<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camilo Andres Serrano Sanchez - Portafolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Fuente principal -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Chart.js para la nueva galería de gráficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --glow-color: hsl(200, 100%, 50%);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; 
            color: #f3f4f6;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: 
                radial-gradient(circle at 10% 20%, rgba(167, 139, 250, 0.45), transparent 40%),
                radial-gradient(circle at 80% 90%, rgba(56, 189, 248, 0.45), transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(236, 72, 153, 0.4), transparent 40%),
                radial-gradient(circle at 20% 80%, rgba(8, 217, 214, 0.35), transparent 45%);
            background-size: 100% 100%;
            animation: aurora-flow 16s ease-in-out infinite alternate;
            z-index: -1;
            will-change: transform;
        }

        @keyframes aurora-flow {
            0% {
                transform: rotate(0deg) scale(1.5);
                filter: blur(40px);
                opacity: 0.8;
            }
            100% {
                transform: rotate(360deg) scale(2.0);
                filter: blur(60px);
                opacity: 1;
            }
        }

        .main-title {
            background: linear-gradient(90deg, #ec4899, #8b5cf6, #3b82f6, #8b5cf6, #ec4899);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-pan 5s linear infinite;
        }

        @keyframes gradient-pan {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }
        
        .section-title {
            background: -webkit-linear-gradient(45deg, #ffffff, #f0f0f0, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        .glass-container {
             background: rgba(45, 55, 72, 0.65);
             backdrop-filter: blur(12px);
             -webkit-backdrop-filter: blur(12px);
             border: 1px solid rgba(255, 255, 255, 0.1);
             border-radius: 1.5rem;
             padding: 2rem;
             margin-bottom: 4rem;
        }

        .card {
            width: 100%;
            max-width: 320px;
            min-height: 280px;
            background-color: #2d3748;
            border-radius: 1rem;
            overflow: hidden;
            position: relative;
            transition: all 0.3s ease;
            border: 1px solid #4a5568;
        }

        .card-lift:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
            border-color: #a78bfa;
        }
        
        .experience-card, .project-card {
            background-color: rgba(71, 85, 105, 0.5);
            border-left: 4px solid #38bdf8;
            transition: all 0.3s ease;
        }
        .experience-card:hover, .project-card:hover {
            transform: translateX(10px);
            border-left-color: #f472b6;
            background-color: rgba(71, 85, 105, 0.8);
        }

        .education-timeline::before {
            content: '';
            position: absolute;
            left: 1rem;
            top: 1rem;
            bottom: 1rem;
            width: 2px;
            background-color: #4a5568;
        }
        .timeline-item { position: relative; padding-left: 3rem; }
        .timeline-dot {
            position: absolute;
            left: calc(1rem - 9px);
            top: 0.5rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #1a202c;
            border: 4px solid #38bdf8;
            transition: all 0.3s ease;
        }
        .timeline-item:hover .timeline-dot {
            transform: scale(1.2);
            border-color: #f472b6;
        }
        
        .tech-tag {
            background-color: rgba(71, 85, 105, 0.7);
            transition: all 0.2s ease;
        }
        .tech-tag:hover {
            background-color: #38bdf8;
            color: #1a202c;
            transform: scale(1.1);
        }

        .modal { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        
        .btn-shine { position: relative; overflow: hidden; }
        .btn-shine::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0) 100%); transform: rotate(45deg); transition: left 0.6s ease; left: -150%; }
        .btn-shine:hover::after { left: 150%; }

        /* Estilos para la galería de componentes */
        .component-display {
            background-color: rgba(26, 32, 44, 0.5);
            border-radius: 0.75rem;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 180px;
        }
        .code-snippet {
            display: none;
            background-color: #111827;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            border: 1px solid #374151;
            max-height: 300px;
            overflow-y: auto;
            color: #d1d5db;
            font-family: 'Source Code Pro', monospace;
            font-size: 0.875rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .code-snippet.show { display: block; }
        .copy-btn {
            background-color: #4a5568;
            color: #d1d5db;
            transition: all 0.2s;
        }
        .copy-btn:hover {
            background-color: #4f46e5;
            color: white;
        }
         .copy-btn.copied {
            background-color: #10b981;
            color: white;
        }
        
        /* Estilos específicos para botones de la galería */
        .btn-fill { position: relative; z-index: 1; overflow: hidden; transition: color 0.4s ease-in-out; }
        .btn-fill::before { content: ''; position: absolute; top: 0; left: 0; width: 0; height: 100%; background-color: #3b82f6; transition: width 0.4s ease-in-out; z-index: -1; }
        .btn-fill:hover { color: white; }
        .btn-fill:hover::before { width: 100%; }
        .btn-3d { background-color: #2563eb; border-bottom: 5px solid #1d4ed8; transition: all 0.1s ease-in-out; }
        .btn-3d:active { transform: translateY(3px); border-bottom-width: 2px; }
        .btn-border-animated { position: relative; overflow: hidden; background: transparent; }
        .btn-border-animated span { position: absolute; display: block; }
        .btn-border-animated span:nth-child(1) { top: 0; left: -100%; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #3b82f6); animation: anim1 1s linear infinite; }
        .btn-border-animated span:nth-child(2) { top: -100%; right: 0; width: 2px; height: 100%; background: linear-gradient(180deg, transparent, #3b82f6); animation: anim2 1s linear infinite; animation-delay: 0.25s; }
        .btn-border-animated span:nth-child(3) { bottom: 0; right: -100%; width: 100%; height: 2px; background: linear-gradient(270deg, transparent, #3b82f6); animation: anim3 1s linear infinite; animation-delay: 0.5s; }
        .btn-border-animated span:nth-child(4) { bottom: -100%; left: 0; width: 2px; height: 100%; background: linear-gradient(360deg, transparent, #3b82f6); animation: anim4 1s linear infinite; animation-delay: 0.75s; }
        .btn-cutout { background: linear-gradient(45deg, #38bdf8, #a78bfa, #f472b6); color: transparent; -webkit-background-clip: text; background-clip: text; border: 2px solid #38bdf8; transition: all 0.3s; }
        .btn-cutout:hover { background-color: #38bdf8; color: white; background-clip: border-box; -webkit-background-clip: border-box; }
        .btn-liquid { position: relative; z-index: 1; overflow: hidden; }
        .btn-liquid::before { content: ''; position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; background: #22d3ee; border-radius: 50%; transform: translate(-50%, -50%) scale(0); transition: transform 0.5s ease; z-index: -1; }
        .btn-liquid:hover::before { transform: translate(-50%, -50%) scale(2.5); }
        .btn-svg-draw { background: none; border: 2px solid #a78bfa; color: #a78bfa; position: relative; }
        .btn-svg-draw svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .btn-svg-draw rect { stroke: #38bdf8; stroke-width: 4; stroke-dasharray: 400; stroke-dashoffset: 400; transition: stroke-dashoffset 0.8s ease; }
        .btn-svg-draw:hover rect { stroke-dashoffset: 0; }
        .btn-glitch { position: relative; }
        .btn-glitch:hover::before, .btn-glitch:hover::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #1a202c; }
        .btn-glitch:hover::before { left: 2px; text-shadow: -1px 0 red; animation: glitch-anim 1s infinite linear alternate-reverse; }
        .btn-glitch:hover::after { left: -2px; text-shadow: -1px 0 blue; animation: glitch-anim 1s infinite linear alternate-reverse; animation-delay: -0.5s; }
        .btn-gradient-border { background: #1a202c; position: relative; z-index: 1; }
        .btn-gradient-border::before { content: ''; position: absolute; top: -2px; left: -2px; right: -2px; bottom: -2px; background: linear-gradient(45deg, #f472b6, #a78bfa, #38bdf8); z-index: -1; border-radius: 10px; transition: all 0.3s; opacity: 0; }
        .btn-gradient-border:hover::before { opacity: 1; filter: blur(5px); }
        .btn-cyber { clip-path: polygon(0 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%); border: 2px solid #08d9d6; transition: background 0.2s; }
        .btn-cyber:hover { background: rgba(8, 217, 214, 0.2); }
        .btn-shutter-out { position: relative; overflow: hidden; z-index: 1; }
        .btn-shutter-out::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #f9a8d4; transition: transform 0.4s ease; transform: scaleX(0); transform-origin: right; z-index: -1; }
        .btn-shutter-out:hover::before { transform: scaleX(1); transform-origin: left; }
        .btn-layers { position: relative; }
        .btn-layers span { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #10b981; border-radius: 0.5rem; transition: all 0.3s; z-index: -1; }
        .btn-layers:hover span:nth-child(1) { transform: translate(4px, 4px); }
        .btn-layers:hover span:nth-child(2) { transform: translate(8px, 8px); }
        .btn-layers:hover span:nth-child(3) { transform: translate(12px, 12px); }
        .btn-spotlight { position: relative; overflow: hidden; }
        .btn-spotlight span { position: absolute; width: 100px; height: 100px; background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 80%); border-radius: 50%; transform: translate(-50%, -50%); transition: opacity 0.2s; opacity: 0; pointer-events: none; }
        .btn-spotlight:hover span { opacity: 1; }
        .btn-gooey { position: relative; z-index: 1; }
        .btn-gooey::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #8b5cf6; border-radius: 50%; transform: scale(0); transition: transform 0.5s ease; z-index: -1; }
        .btn-gooey:hover::before { transform: scale(2.5); filter: url('#gooey'); }
        .btn-pixelated { position: relative; overflow: hidden; }
        .btn-pixelated::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #ef4444; transform: translateX(-100%); transition: transform 0.5s; }
        .btn-pixelated:hover::before { transform: translateX(0); }
        .btn-pixelated span { position: relative; mix-blend-mode: difference; color: white; }
        @keyframes flicker-tv { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }
        .animate-flicker { animation: flicker-tv 0.2s infinite; }
        .btn-bubble { position: relative; overflow: hidden; }
        @keyframes bubble-anim { to { transform: scale(100); opacity: 0; } }
        .animate-bubble { animation: bubble-anim 1s linear; }
        .btn-split::before, .btn-split::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 50%; background: #10b981; z-index: -1; transition: transform 0.3s; }
        .btn-split:hover { color: white; }
        .btn-split::after { top: 50%; }
        .btn-split:hover::before { transform: translateX(-100%); }
        .btn-split:hover::after { transform: translateX(100%); }
        .btn-ink-effect { position: absolute; border-radius: 50%; background: white; transform: translate(-50%, -50%) scale(0); animation: ink-anim 0.6s ease-out; }
        @keyframes ink-anim { to { transform: translate(-50%, -50%) scale(2); opacity: 0; } }
        .btn-social-icon { width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s; }
        .btn-social-icon.twitter { background-color: #1DA1F2; color: white; }
        .btn-social-icon.twitter:hover { box-shadow: 0 0 15px #1DA1F2; transform: scale(1.1); }
        .btn-download { background-color: #34D399; color: white; position: relative; overflow: hidden; }
        .btn-download .progress { position: absolute; top: 0; left: 0; height: 100%; width: 0; background-color: rgba(255,255,255,0.3); transition: width 0.3s; }
        .btn-download:hover .progress { width: 100%; }
        .btn-icon-rotate { background-color: #FBBF24; color: #422006; }
        .btn-icon-rotate:hover i { transform: rotate(360deg); }
        .btn-icon-rotate i { transition: transform 0.5s; }
        .btn-skew-bg { position: relative; z-index: 1; }
        .btn-skew-bg::before { content: ''; position: absolute; top: 0; left: -10%; width: 120%; height: 100%; background: #F472B6; transform: skewX(-20deg); transition: left 0.3s; z-index: -1; }
        .btn-skew-bg:hover::before { left: -110%; }
        .btn-text-reveal span { position: relative; display: inline-block; overflow: hidden; }
        .btn-text-reveal span::after { content: attr(data-text); position: absolute; top: 100%; left: 0; transition: transform 0.3s; }
        .btn-text-reveal:hover span { transform: translateY(-100%); }
        .btn-glitch-slice:hover { animation: glitch-slice-anim 0.5s steps(4, end) infinite; }
        @keyframes glitch-slice-anim { 0% { clip-path: inset(45% 0 50% 0); } 100% { clip-path: inset(20% 0 75% 0); } }
        .btn-underline-grow::after { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 2px; background: #8B5CF6; transition: all 0.3s; transform: translateX(-50%); }
        .btn-underline-grow:hover::after { width: 100%; }
        .btn-lock { background: #6B7280; }
        .btn-lock .fa-lock { transition: transform 0.3s; }
        .btn-lock:hover .fa-lock { transform: translateY(-120%); }
        .btn-lock .fa-unlock { position: absolute; transform: translateY(120%); transition: transform 0.3s; }
        .btn-lock:hover .fa-unlock { transform: translateY(0); }
        .btn-arrow-circle::after { content: '→'; position: absolute; right: -20px; opacity: 0; transition: all 0.3s; }
        .btn-arrow-circle:hover { padding-right: 32px; }
        .btn-arrow-circle:hover::after { right: 12px; opacity: 1; }
        .btn-border-pop:hover { border-color: #EC4899; box-shadow: 0 0 0 2px #EC4899; }
        .btn-social-icon.facebook { background-color: #1877F2; color: white; }
        .btn-social-icon.facebook:hover { box-shadow: 0 0 15px #1877F2; transform: scale(1.1); }
        .btn-social-icon.instagram { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color: white; }
        .btn-social-icon.instagram:hover { box-shadow: 0 0 15px #dc2743; transform: scale(1.1); }
        .btn-social-icon.linkedin { background-color: #0A66C2; color: white; }
        .btn-social-icon.linkedin:hover { box-shadow: 0 0 15px #0A66C2; transform: scale(1.1); }
        .btn-social-icon.github { background-color: #333; color: white; }
        .btn-social-icon.github:hover { box-shadow: 0 0 15px #333; transform: scale(1.1); }
        .btn-social-icon.youtube { background-color: #FF0000; color: white; }
        .btn-social-icon.youtube:hover { box-shadow: 0 0 15px #FF0000; transform: scale(1.1); }
        .btn-social-icon.pinterest { background-color: #E60023; color: white; }
        .btn-social-icon.pinterest:hover { box-shadow: 0 0 15px #E60023; transform: scale(1.1); }
        .btn-social-icon.tiktok { background-color: #000; color: white; }
        .btn-social-icon.tiktok:hover { box-shadow: 0 0 10px #00f2ea, 0 0 10px #ff0050; transform: scale(1.1); }
        .btn-social-icon.twitch { background-color: #9146FF; color: white; }
        .btn-social-icon.twitch:hover { box-shadow: 0 0 15px #9146FF; transform: scale(1.1); }
        .btn-social-icon.discord { background-color: #5865F2; color: white; }
        .btn-social-icon.discord:hover { box-shadow: 0 0 15px #5865F2; transform: scale(1.1); }
        .btn-social-icon.reddit { background-color: #FF4500; color: white; }
        .btn-social-icon.reddit:hover { box-shadow: 0 0 15px #FF4500; transform: scale(1.1); }
        .btn-social-icon.whatsapp { background-color: #25D366; color: white; }
        .btn-social-icon.whatsapp:hover { box-shadow: 0 0 15px #25D366; transform: scale(1.1); }
        .btn-social-icon.telegram { background-color: #24A1DE; color: white; }
        .btn-social-icon.telegram:hover { box-shadow: 0 0 15px #24A1DE; transform: scale(1.1); }

        /* Estilos para efectos especiales */
        .card-neon-border { position: relative; }
        .card-neon-border::before, .card-neon-border::after { content: ''; position: absolute; left: -2px; top: -2px; background: linear-gradient(45deg, #f0f, #0ff, #f0f, #0ff); background-size: 400%; width: calc(100% + 4px); height: calc(100% + 4px); z-index: -1; animation: neon-glow 20s linear infinite; border-radius: 1rem; }
        .card-neon-border::after { filter: blur(20px); }
        @keyframes neon-glow { 0% { background-position: 0 0; } 50% { background-position: 400% 0; } 100% { background-position: 0 0; } }
        .card-parallax { transform-style: preserve-3d; transform: perspective(1000px); }
        .card-parallax .card-image, .card-parallax .card-title { transition: transform 0.5s ease; }
        .card-parallax .card-image { transform: translateZ(20px); }
        .card-parallax .card-title { transform: translateZ(50px); }
        .card-glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .card-aurora-demo { background-size: 300% 300%; animation: aurora-bg 10s ease infinite; background-image: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab); }
        .card-img-zoom .card-image { width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s ease; }
        .card-img-zoom:hover .card-image { transform: scale(1.1); }
        .card-slide-content .card-content { position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); color: white; padding: 1rem; transform: translateY(100%); transition: transform 0.4s ease; }
        .card-slide-content:hover .card-content { transform: translateY(0); }
        .card-skew:hover { transform: skew(-5deg, -2deg) scale(1.05); }
        .card-3d-depth:hover { transform: perspective(1000px) rotateY(15deg) rotateX(5deg) scale(1.1); box-shadow: -10px 10px 25px rgba(0,0,0,0.4); }
        .card-img-shift .card-image { transform: scale(1.3); }
        .card-img-shift:hover .card-image { transform: scale(1) translateX(-20%); }
        .card-accordion { height: 80px; }
        .card-accordion:hover { height: 280px; }
        .card-accordion .hidden-content { opacity: 0; transition: opacity 0.3s 0.2s; }
        .card-accordion:hover .hidden-content { opacity: 1; }
        .card-folding { transform-style: preserve-3d; }
        .card-folding .fold { width: 50%; height: 100%; position: absolute; top: 0; left: 50%; background-color: #2dd4bf; transform-origin: left; transition: transform 0.6s; }
        .card-folding:hover .fold { transform: rotateY(-160deg); }
        .card-peel::before { content: ''; position: absolute; bottom: 0; right: 0; border-width: 0 0 50px 50px; border-style: solid; border-color: transparent transparent #1a202c transparent; transition: border-width 0.3s; }
        .card-peel:hover::before { border-width: 0 0 100px 100px; }
        .card-glitch-img .glitch-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: inherit; background-size: cover; }
        .card-glitch-img:hover .glitch-layer:nth-child(1) { transform: translate(5px, 2px); opacity: 0.8; clip-path: polygon(0 20%, 100% 20%, 100% 25%, 0 25%); animation: card-glitch1 0.5s infinite; }
        .card-glitch-img:hover .glitch-layer:nth-child(2) { transform: translate(-5px, -2px); opacity: 0.8; clip-path: polygon(0 60%, 100% 60%, 100% 65%, 0 65%); animation: card-glitch2 0.5s infinite; }
        @keyframes card-glitch1 { 0% { transform: translate(5px, 2px); } 100% { transform: translate(3px, -4px); } }
        @keyframes card-glitch2 { 0% { transform: translate(-5px, -2px); } 100% { transform: translate(-3px, 4px); } }
        .card-spotlight-follow { background: #1a1a1a; }
        .card-spotlight-follow::before { content: ''; position: absolute; left: var(--x); top: var(--y); width: 200px; height: 200px; background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 50%); transform: translate(-50%, -50%); transition: width 0.3s, height 0.3s; }
        .card-spotlight-follow:hover::before { width: 300px; height: 300px; }
        .card-3d-flip { transform-style: preserve-3d; transition: transform 0.6s; }
        .card-3d-flip .card-front, .card-3d-flip .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; }
        .card-3d-flip .card-back { transform: rotateY(180deg); }
        .card-3d-flip:hover { transform: rotateY(180deg); }
        .card-border-shift { background-color: rgba(71, 85, 105, 0.5); border-left: 4px solid #38bdf8; transition: all 0.3s ease; }
        .card-border-shift:hover { transform: translateX(10px); border-left-color: #f472b6; background-color: rgba(71, 85, 105, 0.8); }
        @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .card-mask-hover:hover div { clip-path: circle(75% at 50% 50%); }
        .card-grain { position: absolute; inset: -200%; width: 400%; height: 400%; background-image: url('https://upload.wikimedia.org/wikipedia/commons/5/5c/Film_grain.png'); opacity: 0.15; animation: grain 8s steps(10) infinite; pointer-events: none; }
        @keyframes grain { 0%, 100% { transform: translate(0, 0); } 10% { transform: translate(-5%, -10%); } 20% { transform: translate(-15%, 5%); } 30% { transform: translate(7%, -25%); } 40% { transform: translate(-5%, 25%); } 50% { transform: translate(-15%, 10%); } 60% { transform: translate(15%, 0%); } 70% { transform: translate(0%, 15%); } 80% { transform: translate(3%, 35%); } 90% { transform: translate(-10%, 10%); } }
        .card-pattern { position: absolute; inset: 0; background-image: repeating-radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1) 0, rgba(255,255,255,0.1) 10px, transparent 10px, transparent 20px); background-size: 30px 30px; animation: pattern-move 10s linear infinite; }
        @keyframes pattern-move { from { background-position: 0 0; } to { background-position: 120px 60px; } }
        .floating-shapes::before, .floating-shapes::after { content: ''; position: absolute; border-radius: 50%; background: rgba(167, 139, 250, 0.3); animation: float 10s infinite ease-in-out; }
        .floating-shapes::before { width: 50px; height: 50px; left: 10%; top: 20%; animation-delay: 0s; }
        .floating-shapes::after { width: 80px; height: 80px; right: 10%; bottom: 20%; animation-delay: 5s; }
        @keyframes float { 0%, 100% { transform: translateY(0) scale(1); } 50% { transform: translateY(-20px) scale(1.1); } }
        .card-background-aurora::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 10% 20%, rgba(167, 139, 250, 0.5), transparent 50%), radial-gradient(circle at 80% 90%, rgba(56, 189, 248, 0.5), transparent 50%); animation: aurora-flow 15s ease-in-out infinite alternate; z-index: 0; border-radius: 1rem; }
        .card-background-aurora h3 { position: relative; z-index: 1; }
        .card-pixel-sort:hover img { filter: url(#pixel-sort-filter); }
        .card-gooey-hover .gooey-blob { position: absolute; background: #8b5cf6; border-radius: 50%; filter: url(#gooey); transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .card-gooey-hover:hover .gooey-blob { transform: scale(1.5); }
        .card-text-focus:hover .unfocused { filter: blur(2px); opacity: 0.5; }
        .card-text-focus .focused { transition: transform 0.3s; }
        .card-text-focus:hover .focused { transform: scale(1.1); }
        .card-cutout-window { background-image: url('https://placehold.co/320x280/1a202c/FFFFFF?text=Fondo'); background-size: cover; }
        .card-cutout-window .window { clip-path: circle(30px at 50% 50%); transition: clip-path 0.4s ease-in-out; }
        .card-cutout-window:hover .window { clip-path: circle(150px at 50% 50%); }
        .card-image-trail { --trail-opacity: 0; }
        .card-image-trail:hover { --trail-opacity: 0.3; }
        .card-image-trail .trail-img { position: absolute; opacity: var(--trail-opacity); transition: transform 0.5s, opacity 0.5s; }
        .card-image-trail:hover .trail-img:nth-child(1) { transform: translate(-20px, -20px); }
        .card-image-trail:hover .trail-img:nth-child(2) { transform: translate(20px, 20px); }
        .card-grid-reveal .grid-cell { transition: background-color 0.3s; }
        .card-grid-reveal:hover .grid-cell { background-color: rgba(255,255,255,0.1); }
        .card-grid-reveal:hover .grid-cell:hover { background-color: rgba(59, 130, 246, 0.5); }
        .card-perspective-text { transform: perspective(800px); }
        .card-perspective-text h3 { transition: transform 0.4s; transform-style: preserve-3d; }
        .card-perspective-text:hover h3 { transform: rotateX(30deg); }
        .card-video-preview video { transition: filter 0.3s; }
        .card-video-preview:hover video { filter: none; }
        
        /* New Color Picker Styles */
        #color-picker-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            align-items: center;
            justify-items: center;
        }
        @media (min-width: 768px) { /* Tailwind's md breakpoint */
             #color-picker-container {
                 grid-template-columns: auto 1fr;
             }
        }
        #color-wheel-container {
            position: relative;
            width: 250px;
            height: 250px;
        }
        #color-wheel {
            width: 100%;
            height: 100%;
            cursor: crosshair;
            border-radius: 50%;
        }
        #color-picker-indicator {
            position: absolute;
            width: 24px;
            height: 24px;
            border: 3px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            box-shadow: 0 0 0 2px black, inset 0 0 0 2px black;
            mix-blend-mode: difference;
        }
        #color-details {
            background-color: rgba(26, 32, 44, 0.5);
            padding: 1.5rem;
            border-radius: 0.75rem;
            width: 100%;
            max-width: 300px;
        }
        #color-preview {
            width: 100%;
            height: 80px;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border: 2px solid #4a5568;
            transition: background-color 0.2s;
        }
        .color-input-group {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 1rem;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .color-input-group label {
            font-weight: 600;
            color: #9ca3af;
        }
        .color-input-group input {
            background: #4a5568;
            border: 1px solid #718096;
            border-radius: 0.375rem;
            padding: 0.5rem 0.75rem;
            color: #f3f4f6;
            font-family: 'Source Code Pro', monospace;
            width: 100%;
        }

        /* Title Effects Styles */
        .title-effect-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100px;
            width: 100%;
            padding: 1rem;
            text-align: center;
        }
        .title-gradient-anim {
            font-size: 2.5rem; font-weight: 800;
            background: linear-gradient(90deg, #10b981, #3b82f6, #ec4899, #10b981);
            background-size: 200% auto;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: gradient-pan 4s linear infinite;
        }
        .title-3d-effect {
            font-size: 2.5rem; font-weight: 800; color: #e5e7eb;
            text-shadow: 1px 1px 0px #9ca3af, 2px 2px 0px #6b7280, 3px 3px 0px #4b5563, 4px 4px 0px #374151, 5px 5px 10px rgba(0,0,0,0.5);
            transition: all 0.2s ease-out;
        }
        .title-3d-effect:hover {
            transform: translate(-2px, -2px);
            text-shadow: 1px 1px 0px #9ca3af, 2px 2px 0px #6b7280, 3px 3px 0px #4b5563, 4px 4px 0px #374151, 5px 5px 0px #374151, 6px 6px 0px #374151, 7px 7px 10px rgba(0,0,0,0.5);
        }
        .title-glitch-effect {
            font-family: 'Major Mono Display', monospace; font-size: 2.5rem; font-weight: 800; position: relative; color: #f3f4f6;
            animation: glitch-main 5s infinite linear;
        }
        .title-glitch-effect::before, .title-glitch-effect::after {
            content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #1a202c; overflow: hidden;
        }
        .title-glitch-effect::before { left: 2px; text-shadow: -2px 0 #f472b6; animation: glitch-before 5s infinite linear; }
        .title-glitch-effect::after { left: -2px; text-shadow: -2px 0 #38bdf8, 2px 2px #facc15; animation: glitch-after 5s infinite linear; }
        @keyframes glitch-main { 2%,64%{ transform: translate(2px,-2px) skew(0deg); } 4%,60%{ transform: translate(-2px,2px) skew(0deg); } 62%{ transform: skew(5deg); } }
        @keyframes glitch-before { 2%,64%{ transform: translate(2px,-2px); } 4%,60%{ transform: translate(-2px,2px); } 62%{ transform: translate(13px,-1px) skew(-13deg); } }
        @keyframes glitch-after { 2%,64%{ transform: translate(-2px,0) skew(0deg); } 4%,60%{ transform: translate(0,0) skew(0deg); } 62%{ transform: translate(-22px,5px) skew(21deg); } }
        
        .title-smoke-effect { font-size: 2.5rem; font-weight: 800; color: transparent; text-shadow: 0 0 5px rgba(255,255,255,0.8), 0 0 10px rgba(255,255,255,0.6), 0 0 15px rgba(255,255,255,0.4); animation: smoke-anim 5s linear infinite; }
        @keyframes smoke-anim { 0% { text-shadow: 0 0 5px rgba(255,255,255,0.8), 0 0 10px rgba(255,255,255,0.6), 0 0 15px rgba(255,255,255,0.4); } 50% { text-shadow: 0 0 10px rgba(255,255,255,0.9), 0 0 20px rgba(255,255,255,0.5), 0 0 35px rgba(255,255,255,0.3); } 100% { text-shadow: 0 0 5px rgba(255,255,255,0.8), 0 0 10px rgba(255,255,255,0.6), 0 0 15px rgba(255,255,255,0.4); } }
        
        .title-liquid-effect { font-size: 2.5rem; font-weight: 800; color: #38bdf8; position: relative; }
        .title-liquid-effect::before { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; color: #f472b6; filter: url(#liquid-filter); }
        
        .title-neon-flicker { font-family: 'Lobster', cursive; font-size: 2.5rem; color: #fff; text-shadow: 0 0 7px #fff, 0 0 10px #fff, 0 0 21px #fff, 0 0 42px #0fa, 0 0 82px #0fa, 0 0 92px #0fa, 0 0 102px #0fa, 0 0 151px #0fa; animation: flicker 1.5s infinite alternate; }
        @keyframes flicker { 0%, 18%, 22%, 25%, 53%, 57%, 100% { text-shadow: 0 0 4px #fff, 0 0 11px #fff, 0 0 19px #fff, 0 0 40px #0fa, 0 0 80px #0fa, 0 0 90px #0fa, 0 0 100px #0fa, 0 0 150px #0fa; } 20%, 24%, 55% { text-shadow: none; } }

        .title-wavy-effect span { position: relative; display: inline-block; font-size: 2.5rem; font-weight: 800; animation: wave-anim 2s ease-in-out infinite; animation-delay: calc(0.1s * var(--i)); }
        @keyframes wave-anim { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        .title-fire-effect { font-size: 2.5rem; font-weight: 800; color: #fca311; animation: fire-anim 2s linear infinite; }
        @keyframes fire-anim { 0% { text-shadow: 0 0 10px #fca311, 0 0 20px #fca311, 0 0 30px #e85d04, 0 0 40px #e85d04; } 50% { text-shadow: 0 0 15px #fca311, 0 0 25px #fca311, 0 0 35px #e85d04, 0 0 45px #e85d04, 0 0 5px #fff; } 100% { text-shadow: 0 0 10px #fca311, 0 0 20px #fca311, 0 0 30px #e85d04, 0 0 40px #e85d04; } }

        .title-spotlight-scan, .footer-scanner-effect {
            background-size: 250% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: spotlight-scan-anim 4s linear infinite;
        }
        .title-spotlight-scan {
            font-size: 2.5rem; font-weight: 800;  
            background-image: linear-gradient(90deg, #6b7280, white, #6b7280);
        }
        .footer-scanner-effect {
            background-image: linear-gradient(90deg, #e85d04, #fca311, #fff, #fca311, #e85d04);
        }
        @keyframes spotlight-scan-anim { to { background-position: -200% center; } }

        .title-drawing-effect { font-family: 'Zeyada', cursive; font-size: 4rem; }
        .title-drawing-effect path { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: draw-anim 5s ease-in-out forwards; }
        @keyframes draw-anim { to { stroke-dashoffset: 0; } }

        .title-text-shadow-pop span { display: inline-block; transition: transform 0.2s, text-shadow 0.2s; }
        .title-text-shadow-pop:hover span { transform: translateY(-5px); text-shadow: 0 1px 0 #ccc, 0 2px 0 #ccc, 0 3px 0 #ccc, 0 4px 0 #ccc, 0 5px 0 #ccc, 0 6px 0 #ccc, 0 7px 10px rgba(0,0,0,0.4); }

        .title-split-flap span { display: inline-block; perspective: 500px; }
        .title-split-flap span::before, .title-split-flap span::after { display: block; content: attr(data-text); transition: transform 0.5s; transform-origin: 50% 50% -20px; }
        .title-split-flap span::before { clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%); }
        .title-split-flap span::after { clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%); }
        .title-split-flap:hover span::before { transform: rotateX(-180deg); }
        .title-split-flap:hover span::after { transform: rotateX(180deg); }

        .title-ghost-effect { animation: ghost-float 3s ease-in-out infinite; }
        @keyframes ghost-float { 0%, 100% { transform: translateY(0); text-shadow: 0 0 5px #fff, 0 0 15px #fff, 0 0 25px #0ff; } 50% { transform: translateY(-10px); text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #0ff; } }
        
        .title-sliced { color: white; animation: slice-anim 4s infinite; }
        @keyframes slice-anim { 0%, 100% { text-shadow: 0 0 0 white; } 50% { text-shadow: 2px 2px 0 #f472b6, -2px -2px 0 #38bdf8; } }
        .title-kinetic span { display: inline-block; animation: kinetic-anim 2s infinite; }
        @keyframes kinetic-anim { 0%, 100% { transform: scale(1) rotate(0); } 50% { transform: scale(1.2) rotate(5deg); } }
        .title-matrix { font-family: 'Major Mono Display', monospace; color: #34d399; text-shadow: 0 0 5px #34d399; animation: matrix-flicker 0.1s infinite; }
        @keyframes matrix-flicker { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
        .title-water-reflection::after { content: attr(data-text); position: absolute; bottom: -100%; left: 0; transform: scaleY(-1); opacity: 0.3; background: linear-gradient(to bottom, transparent, white); -webkit-background-clip: text; background-clip: text; }
        .title-broken { position: relative; }
        .title-broken:hover::before { content: attr(data-text); position: absolute; top: 0; left: 2px; clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%); text-shadow: -1px 0 red; }
        .title-broken:hover::after { content: attr(data-text); position: absolute; top: 0; left: -2px; clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%); text-shadow: 1px 0 blue; }
        .title-comic { font-family: 'Anton', sans-serif; color: #facc15; -webkit-text-stroke: 2px black; text-shadow: 3px 3px 0 #ef4444; }
        .title-stretch span { display: inline-block; transition: transform 0.2s; }
        .title-stretch:hover span { transform: scaleX(1.5); }
        .title-pixelated { font-family: 'Press Start 2P', cursive; color: white; image-rendering: pixelated; }
        .title-highlight-pen::after { content: ''; position: absolute; bottom: 10%; left: -5%; width: 110%; height: 30%; background: rgba(250, 204, 21, 0.7); z-index: -1; transform: rotate(-2deg); }
        .title-typing { overflow: hidden; white-space: nowrap; border-right: .15em solid orange; animation: typing-anim 3.5s steps(30, end) infinite, blink-caret .75s step-end infinite; }
        @keyframes typing-anim { from { width: 0 } to { width: 100% } }
        @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: orange; } }

        /* Payment Zone Styles */
        #payment-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            justify-content: center;
            align-items: center;
            max-w-4xl mx-auto;
            perspective: 1000px;
        }
        #card-ui-container {
            width: 320px;
            height: 200px;
            position: relative;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        #card-ui-container.flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            border-radius: 1.25rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 1.25rem;
            color: white;
            font-family: 'Source Code Pro', monospace;
        }
        .card-front {
            background: linear-gradient(45deg, #2563eb, #3b82f6);
        }
        .card-back {
            background: linear-gradient(45deg, #3b82f6, #4f46e5);
            transform: rotateY(180deg);
        }
        .card-back .black-strip {
            height: 40px;
            background: #111;
            margin: 1rem -1.25rem;
        }
        .card-back .cvv-box {
            background: white;
            color: black;
            height: 30px;
            width: 85%;
            text-align: right;
            padding: 0 10px;
            border-radius: 4px;
            align-self: flex-end;
            font-style: italic;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-chip {
            width: 50px;
            height: 40px;
            background: linear-gradient(135deg, #fde68a, #facc15);
            border-radius: 6px;
        }
        .card-logo i {
            font-size: 2rem;
            transform: rotate(90deg);
        }
        .card-number {
            font-size: 1.25rem;
            letter-spacing: 2px;
            text-align: center;
        }
        .card-footer {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            text-transform: uppercase;
        }
        #payment-form-container {
            background-color: rgba(71, 85, 105, 0.7);
            padding: 2rem;
            border-radius: 1rem;
            width: 100%;
            max-width: 400px;
        }
        .payment-form-input {
            width: 100%;
            background: #4a5568;
            border: 1px solid #718096;
            border-radius: 0.375rem;
            padding: 0.75rem;
            color: #f3f4f6;
            transition: all 0.2s;
        }
        .payment-form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
        }
        .input-wrapper {
            position: relative;
        }
        .input-wrapper .card-brand-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: #9ca3af;
        }
        .footer-fire {
            background-color: rgba(26, 32, 44, 0.8);
            padding: 1.5rem;
            border-radius: 1rem;
            margin-top: 2rem;
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="absolute top-4 right-4 sm:top-8 sm:right-8 z-40">
        <button id="login-btn" class="btn-shine bg-indigo-600 text-white font-semibold py-2 px-5 rounded-lg inline-flex items-center gap-2">
            <i class="fas fa-sign-in-alt"></i>
            Login
        </button>
    </div>

    <!-- MODIFICADO: Nuevo Encabezado -->
    <header class="text-center my-8 sm:my-12 relative overflow-hidden rounded-2xl py-10 md:py-16 glass-container">
        <canvas id="title-particles-canvas" class="absolute top-0 left-0 w-full h-full z-0"></canvas>
        <div class="relative z-10 flex flex-col items-center gap-4">
             <i class="fas fa-palette fa-3x text-purple-400"></i>
            <h1 class="text-4xl sm:text-5xl font-black text-white">
                Ingeniero Camilo Andres Serrano Sanchez
            </h1>
             <h2 class="text-3xl sm:text-4xl main-title font-bold">Galería de Arte</h2>
            <p class="text-lg text-gray-300 mt-2 max-w-2xl mx-auto">Desarrollador Full-Stack y Analista de Datos apasionado por construir soluciones tecnológicas y extraer valor de la información.</p>
            
            <div class="mt-4 flex flex-wrap justify-center items-center gap-x-6 gap-y-4 text-gray-200">
                <a href="mailto:camilosanchezme@gmail.com" class="hover:text-white transition-colors flex items-center gap-2 text-lg">
                    <i class="fas fa-envelope text-sky-400"></i>
                    camilosanchezme@gmail.com
                </a>
                <a href="https://wa.me/573209415494" target="_blank" class="hover:text-white transition-colors flex items-center gap-2 text-lg">
                    <i class="fab fa-whatsapp text-green-400"></i>
                    +57 3209415494
                </a>
            </div>

            <div class="mt-6 flex justify-center items-center gap-4">
                <a href="https://www.linkedin.com/in/camilo-serrano-sanchez-/" target="_blank" class="btn-social-icon linkedin">
                    <i class="fab fa-linkedin-in"></i>
                </a>
                <img src="https://raw.githubusercontent.com/CAMILOSANCHEZDEVELOPER/GAME-JAMES-BOND-EN-EL-ESPACIO/main/camilo.png" alt="Foto de Perfil" class="w-12 h-12 rounded-full border-2 border-purple-500 shadow-lg">
                <a href="#" class="btn-shine bg-purple-600 text-white font-semibold py-3 px-6 rounded-lg inline-flex items-center gap-2">
                    <i class="fas fa-download"></i>
                    Descargar CV
                </a>
            </div>
        </div>
    </header>


    <main class="max-w-7xl mx-auto">
        
        <div class="glass-container">
            <h2 class="text-3xl sm:text-4xl font-bold mb-8 text-center section-title">Proyectos Destacados</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="project-card p-6 rounded-lg">
                    <h3 class="text-xl font-bold text-sky-400">Inventario con IA y Lector de Códigos</h3>
                    <p class="text-gray-300 mt-2">Sistema de inventario inteligente con lector de códigos de barras en tiempo real, utilizando Firebase Cloud.</p>
                </div>
                <a href="https://camilosanchezdeveloper.github.io/SENA---CONVOCATORIA-CERTIFICATON/" target="_blank" rel="noopener noreferrer" class="project-card p-6 rounded-lg block hover:no-underline">
                    <h3 class="text-xl font-bold text-sky-400">Gestor de Convocatorias SENA</h3>
                    <p class="text-gray-300 mt-2">Aplicativo para la gestión de "Certificatones" del SENA en Colombia, optimizando el proceso de inscripción y seguimiento.</p>
                </a>
                <div class="project-card p-6 rounded-lg">
                    <h3 class="text-xl font-bold text-sky-400">Análisis Vehicular con Computer Vision</h3>
                    <p class="text-gray-300 mt-2">App web que extrae placas de vehículos y analiza su estado para un avalúo preliminar, ideal para la compra de seguros.</p>
                </div>
                <div class="project-card p-6 rounded-lg">
                    <h3 class="text-xl font-bold text-sky-400">Contador de Personas con Computer Vision</h3>
                    <p class="text-gray-300 mt-2">Implementación de un sistema de visión por computador para el conteo preciso de personas en diferentes entornos.</p>
                </div>
                 <a href="https://camilosanchezdeveloper.github.io/CAMILO-SANCHEZ-DEVELOPER/" target="_blank" rel="noopener noreferrer" class="project-card p-6 rounded-lg block hover:no-underline">
                    <h3 class="text-xl font-bold text-sky-400">Galería de Recursos para Desarrolladores</h3>
                    <p class="text-gray-300 mt-2">Una galería interactiva de componentes y recursos para desarrolladores front-end (¡como la que estás viendo!).</p>
                </a>
                 <a href="https://studio--la-pea-transcribe.us-central1.hosted.app/" target="_blank" rel="noopener noreferrer" class="project-card p-6 rounded-lg block hover:no-underline">
                    <h3 class="text-xl font-bold text-sky-400">Transcripción con IA</h3>
                    <p class="text-gray-300 mt-2">Aplicativo de transcripción automática de audio a texto para la Alcaldía de La Peña, Cundinamarca.</p>
                </a>
            </div>
        </div>

        <div id="component-gallery" class="glass-container">
            <h2 class="text-3xl sm:text-4xl font-bold mb-8 text-center section-title">Portafolio de Componentes Disponibles</h2>
            <p class="text-center text-gray-400 mb-12">Una biblioteca interactiva de estilos y efectos. Haz clic en "Ver Código" para copiar y pegar.</p>
            
            <div class="mb-16">
                <h3 class="text-2xl font-bold text-sky-400 mb-6 border-b-2 border-sky-400/50 pb-2">Paleta de Colores Interactiva</h3>
                <div id="color-picker-container">
                    <div id="color-wheel-container">
                        <canvas id="color-wheel"></canvas>
                        <div id="color-picker-indicator"></div>
                    </div>
                    <div id="color-details">
                        <div id="color-preview"></div>
                        <div class="color-input-group">
                            <label for="hex-input">HEX</label>
                            <input type="text" id="hex-input" readonly>
                        </div>
                        <div class="color-input-group">
                            <label for="rgb-input">RGB</label>
                            <input type="text" id="rgb-input" readonly>
                        </div>
                        <div class="color-input-group">
                            <label for="hsl-input">HSL</label>
                            <input type="text" id="hsl-input" readonly>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Nueva Galería de Gráficos -->
            <div class="mb-16">
                <h3 class="text-2xl font-bold text-sky-400 mb-6 border-b-2 border-sky-400/50 pb-2">Gráficos para Análisis</h3>
                <input type="text" id="search-charts" placeholder="Buscar gráfico..." class="w-full max-w-sm mx-auto block bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-2 mb-8 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition">
                <div id="charts-gallery" class="grid grid-cols-1 md:grid-cols-2 gap-8"></div>
            </div>

            <div class="mb-16">
                <h3 class="text-2xl font-bold text-sky-400 mb-6 border-b-2 border-sky-400/50 pb-2">Efectos de Título</h3>
                <input type="text" id="search-title-effects" placeholder="Buscar efectos de título..." class="w-full max-w-sm mx-auto block bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-2 mb-8 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition">
                <div id="title-effects-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            </div>

            <div class="mb-16">
                <h3 class="text-2xl font-bold text-sky-400 mb-6 border-b-2 border-sky-400/50 pb-2">Efectos Especiales</h3>
                <input type="text" id="search-effects" placeholder="Buscar efectos especiales..." class="w-full max-w-sm mx-auto block bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-2 mb-8 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition">
                <div id="effects-gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            </div>

            <div class="mb-16">
                <h3 class="text-2xl font-bold text-sky-400 mb-6 border-b-2 border-sky-400/50 pb-2">Botones</h3>
                <input type="text" id="search-buttons" placeholder="Buscar botones..." class="w-full max-w-sm mx-auto block bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-2 mb-8 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition">
                <div id="buttons-gallery" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 items-center justify-items-center"></div>
            </div>

            <!-- MODIFICADO: Zona de Pagos movida aquí -->
            <div id="payment-section">
                <h2 class="text-3xl sm:text-4xl font-bold mb-8 text-center section-title">Zona de Pagos y Donaciones</h2>
                
                <!-- Amount Selection -->
                <div class="max-w-md mx-auto mb-8">
                    <label for="amount-input" class="block text-lg font-medium text-sky-300 mb-2 text-center">Selecciona o ingresa un monto (USD)</label>
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400 text-lg">$</span>
                        <input type="number" id="amount-input" class="w-full bg-gray-900/70 border-2 border-gray-600 rounded-lg pl-8 pr-4 py-3 text-lg text-center focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition" placeholder="25.00">
                    </div>
                    <div class="grid grid-cols-3 gap-4 mt-4">
                        <button class="amount-btn bg-gray-700 hover:bg-sky-500 transition-colors py-2 rounded-lg font-semibold" data-amount="10">$10</button>
                        <button class="amount-btn bg-gray-700 hover:bg-sky-500 transition-colors py-2 rounded-lg font-semibold" data-amount="25">$25</button>
                        <button class="amount-btn bg-gray-700 hover:bg-sky-500 transition-colors py-2 rounded-lg font-semibold" data-amount="50">$50</button>
                    </div>
                </div>

                <div id="payment-container">
                    <!-- Tarjeta de Crédito UI -->
                    <div id="card-ui-container">
                        <!-- Cara Frontal -->
                        <div class="card-face card-front">
                            <div class="card-header">
                                <div class="card-chip"></div>
                                <div class="card-logo">
                                    <i class="fa-solid fa-wifi"></i>
                                </div>
                            </div>
                            <div id="card-ui-number" class="card-number">
                                #### #### #### ####
                            </div>
                            <div class="card-footer">
                                <div>
                                    <div class="text-gray-300 text-xs">Card Holder</div>
                                    <div id="card-ui-name">NOMBRE COMPLETO</div>
                                </div>
                                <div>
                                    <div class="text-gray-300 text-xs">Expires</div>
                                    <div id="card-ui-expiry">MM/YY</div>
                                </div>
                            </div>
                        </div>
                        <!-- Cara Trasera -->
                        <div class="card-face card-back">
                            <div class="black-strip"></div>
                            <div class="text-right text-xs mb-2">CVV</div>
                            <div class="cvv-box">
                                <span id="card-ui-cvv"></span>
                            </div>
                            <div class="mt-auto text-xs text-center">
                                Esta tarjeta es propiedad del banco emisor. Su uso está sujeto a los términos y condiciones del acuerdo del titular de la tarjeta.
                            </div>
                        </div>
                    </div>
                    <!-- Formulario de Pago -->
                    <div id="payment-form-container">
                        <h3 class="text-xl font-semibold text-white mb-6">Detalles del Pago</h3>
                        <form class="space-y-4">
                            <div>
                                <label for="card-number-input" class="block text-sm font-medium text-gray-300 mb-1">Número de Tarjeta</label>
                                <div class="input-wrapper">
                                    <input type="text" id="card-number-input" class="payment-form-input" placeholder="1234 5678 9012 3456" maxlength="19">
                                    <i id="card-brand-icon" class="fab fa-cc-visa card-brand-icon"></i>
                                </div>
                            </div>
                            <div>
                                <label for="card-name-input" class="block text-sm font-medium text-gray-300 mb-1">Nombre del Titular</label>
                                <input type="text" id="card-name-input" class="payment-form-input" placeholder="Camilo A. Serrano S.">
                            </div>
                            <div class="flex gap-4">
                                <div class="w-1/2">
                                    <label for="card-expiry-input" class="block text-sm font-medium text-gray-300 mb-1">Expiración</label>
                                    <input type="text" id="card-expiry-input" class="payment-form-input" placeholder="MM/YY" maxlength="5">
                                </div>
                                <div class="w-1/2">
                                    <label for="card-cvv-input" class="block text-sm font-medium text-gray-300 mb-1">CVV</label>
                                    <input type="password" id="card-cvv-input" class="payment-form-input" placeholder="123" maxlength="4">
                                </div>
                            </div>
                            <div class="pt-4 space-y-3">
                                 <button type="button" id="confirm-payment-btn" class="w-full btn-shine bg-blue-600 text-white font-bold py-3 px-6 rounded-lg text-lg">
                                     <span>Confirmar y Pagar $25.00</span>
                                 </button>
                                 <button type="button" class="w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                                     Cancelar
                                 </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- AÑADIDO: Footer -->
    <footer class="text-center py-8 mt-4">
        <div class="footer-fire max-w-3xl mx-auto">
            <p class="footer-scanner-effect text-lg font-semibold">&copy; 2025 Camilo Andres Serrano Sanchez. Todos los derechos reservados.</p>
            <p class="footer-scanner-effect text-base mt-2 font-semibold">Desarrollado por Ingeniero Camilo Andres Serrano Sanchez con <i class="fas fa-heart text-pink-500"></i> y mucho <i class="fas fa-coffee text-amber-600"></i>.</p>
        </div>
    </footer>

    <!-- Modal de Login -->
    <div id="login-modal" class="modal fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm p-8 relative transform scale-95 border border-indigo-500">
            <button id="close-login-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors">
                <i class="fas fa-times fa-lg"></i>
            </button>
            <h3 class="text-2xl font-bold text-center mb-6 section-title">Iniciar Sesión</h3>
            <form class="space-y-6">
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-300 mb-2">Usuario</label>
                    <input type="text" name="username" id="username" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" placeholder="tu-usuario">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-300 mb-2">Contraseña</label>
                    <input type="password" name="password" id="password" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" placeholder="••••••••">
                </div>
                <button type="button" class="w-full btn-shine bg-indigo-600 text-white font-semibold py-3 px-6 rounded-lg">
                    Acceder
                </button>
            </form>
        </div>
    </div>
    
    <svg class="absolute w-0 h-0">
        <defs>
            <filter id="gooey">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
                <feBlend in="SourceGraphic" in2="goo" />
            </filter>
            <filter id="liquid-filter">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -7" result="goo" />
                <feTurbulence type="fractalNoise" baseFrequency="0.01 0.04" numOctaves="1" result="warp" />
                <feDisplacementMap in="goo" in2="warp" scale="50" xChannelSelector="R" yChannelSelector="G" />
            </filter>
            <filter id="pixel-sort-filter">
                <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur" />
                <feColorMatrix in="blur" type="saturate" values="2" result="saturate" />
                <feTurbulence type="fractalNoise" baseFrequency="0.01 0.04" numOctaves="1" result="warp" />
                <feDisplacementMap in="saturate" in2="warp" scale="20" xChannelSelector="R" yChannelSelector="G" />
            </filter>
        </defs>
    </svg>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ELIMINADO: Array de fuentes
            
            const titleEffects = [
                { name: 'Gradiente Animado', html: '<div class="title-effect-wrapper"><h2 class="title-gradient-anim">TITULO DE PRUEBA</h2></div>', css: '.title-gradient-anim { ... }' },
                { name: 'Efecto 3D', html: '<div class="title-effect-wrapper"><h2 class="title-3d-effect">TITULO DE PRUEBA</h2></div>', css: '.title-3d-effect { ... }' },
                { name: 'Efecto Glitch', html: '<div class="title-effect-wrapper"><h2 class="title-glitch-effect" data-text="TITULO DE PRUEBA">TITULO DE PRUEBA</h2></div>', css: '.title-glitch-effect { ... }' },
                { name: 'Humo', html: '<div class="title-effect-wrapper"><h2 class="title-smoke-effect">TITULO DE PRUEBA</h2></div>', css: '.title-smoke-effect { ... }' },
                { name: 'Líquido', html: '<div class="title-effect-wrapper"><h2 class="title-liquid-effect" data-text="TITULO DE PRUEBA">TITULO DE PRUEBA</h2></div>', css: '/* Requiere filtro SVG */ .title-liquid-effect { ... }' },
                { name: 'Neón', html: '<div class="title-effect-wrapper"><h2 class="title-neon-flicker">TITULO DE PRUEBA</h2></div>', css: '.title-neon-flicker { ... }' },
                { name: 'Ondulado', html: '<div class="title-effect-wrapper"><h2 class="title-wavy-effect">TITULO DE PRUEBA</h2></div>', css: '/* Requiere JS */ .title-wavy-effect span { ... }' },
                { name: 'Fuego', html: '<div class="title-effect-wrapper"><h2 class="title-fire-effect">TITULO DE PRUEBA</h2></div>', css: '.title-fire-effect { ... }' },
                { name: 'Escáner', html: '<div class="title-effect-wrapper"><h2 class="title-spotlight-scan">TITULO DE PRUEBA</h2></div>', css: '.title-spotlight-scan { ... }' },
                { name: 'Dibujo', html: `<div class="title-effect-wrapper"><svg class="title-drawing-effect" viewBox="0 0 400 100"><path d="M10 50 Q 20 20, 30 50 T 50 50 M 60 50 L 80 50 M 70 20 L 70 80 M 90 80 Q 110 10, 130 80" stroke="white" fill="transparent" stroke-width="2"></path></svg></div>`, css: '.title-drawing-effect path { ... }' },
                { name: 'Emboss', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-extrabold text-gray-700" style="text-shadow: -1px -1px 1px rgba(255,255,255,0.1), 1px 1px 1px rgba(0,0,0,0.5);">TITULO DE PRUEBA</h2></div>', css: '/* CSS Only */' },
                { name: 'Corte Papel', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-extrabold text-white relative" style="text-shadow: 2px 2px 5px rgba(0,0,0,0.7);">TITULO DE PRUEBA<span class="absolute top-0 left-0 w-full h-full text-purple-400" style="clip-path: polygon(0 45%, 100% 45%, 100% 55%, 0 55%); text-shadow: none;">TITULO DE PRUEBA</span></h2></div>', css: '/* CSS Only */' },
                { name: 'Revelado', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-extrabold text-white relative overflow-hidden w-full text-center"><span class="inline-block transform transition-transform duration-1000" data-reveal>TITULO DE PRUEBA</span></h2></div>', css: '/* Requiere JS */' },
                { name: 'Sombra Pop', html: '<div class="title-effect-wrapper"><h2 class="title-text-shadow-pop text-4xl font-extrabold text-white">TITULO DE PRUEBA</h2></div>', css: '.title-text-shadow-pop span { ... } /* Requiere JS */' },
                { name: 'Split Flap', html: '<div class="title-effect-wrapper"><h2 class="title-split-flap text-4xl font-extrabold text-white">TITULO DE PRUEBA</h2></div>', css: '.title-split-flap span { ... } /* Requiere JS */' },
                { name: 'Fantasma', html: '<div class="title-effect-wrapper"><h2 class="title-ghost-effect text-4xl font-extrabold text-white">TITULO DE PRUEBA</h2></div>', css: '.title-ghost-effect { ... }' },
                { name: 'Máscara de Texto', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-extrabold" style="background: url(https://images.unsplash.com/photo-1517336714731-489689fd1ca8?fit=crop&w=400&h=100) center/cover; -webkit-background-clip: text; background-clip: text; color: transparent;">TITULO DE PRUEBA</h2></div>', css: '/* CSS Only */' },
                { name: 'Subrayado Animado', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-extrabold text-white relative inline-block group">TITULO DE PRUEBA<span class="absolute bottom-0 left-0 w-0 h-1 bg-fuchsia-500 transition-all duration-500 group-hover:w-full"></span></h2></div>', css: '/* CSS Only */' },
                { name: 'Letras Aleatorias', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-mono font-extrabold text-white" data-scramble-text>TITULO DE PRUEBA</h2></div>', css: '/* Requiere JS */' },
                { name: 'Contorno y Relleno', html: '<div class="title-effect-wrapper"><h2 class="text-5xl font-black text-transparent transition-all duration-300 hover:text-white" style="-webkit-text-stroke: 2px #38bdf8;">TITULO DE PRUEBA</h2></div>', css: '/* CSS Only */' },
                { name: 'Rebanado', html: '<div class="title-effect-wrapper"><h2 class="text-5xl font-black title-sliced">TITULO DE PRUEBA</h2></div>', css: '.title-sliced { ... }' },
                { name: 'Cinético', html: '<div class="title-effect-wrapper"><h2 class="text-5xl font-black title-kinetic">TITULO DE PRUEBA</h2></div>', css: '.title-kinetic span { ... } /* Requiere JS */' },
                { name: 'Matrix', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-black title-matrix">TITULO DE PRUEBA</h2></div>', css: '.title-matrix { ... }' },
                { name: 'Reflejo Agua', html: '<div class="title-effect-wrapper"><h2 class="text-4xl font-black relative title-water-reflection" data-text="TITULO DE PRUEBA">TITULO DE PRUEBA</h2></div>', css: '.title-water-reflection::after { ... }' },
                { name: 'Roto', html: '<div class="title-effect-wrapper"><h2 class="text-5xl font-black title-broken" data-text="TITULO DE PRUEBA">TITULO DE PRUEBA</h2></div>', css: '.title-broken:hover::before/after { ... }' },
                { name: 'Comic', html: '<div class="title-effect-wrapper"><h2 class="text-5xl title-comic">TITULO DE PRUEBA</h2></div>', css: '.title-comic { ... }' },
                { name: 'Estirado', html: '<div class="title-effect-wrapper"><h2 class="text-5xl font-black title-stretch">TITULO DE PRUEBA</h2></div>', css: '.title-stretch span { ... } /* Requiere JS */' },
                { name: 'Pixelado', html: '<div class="title-effect-wrapper"><h2 class="text-2xl title-pixelated">TITULO DE PRUEBA</h2></div>', css: '.title-pixelated { ... }' },
                { name: 'Resaltador', html: '<div class="title-effect-wrapper"><h2 class="text-5xl font-black relative inline-block title-highlight-pen">TITULO DE PRUEBA</h2></div>', css: '.title-highlight-pen::after { ... }' },
                { name: 'Máquina Escribir', html: '<div class="title-effect-wrapper"><h2 class="text-2xl font-mono title-typing">TITULO DE PRUEBA</h2></div>', css: '.title-typing { ... }' }
            ];

            const buttons = [
                { name: 'Brillo', html: '<button class="bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 hover:shadow-[0_0_15px_5px_rgba(59,130,246,0.5)]">Brillo</button>' },
                { name: 'Relleno', html: '<button class="btn-fill border-2 border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-lg">Relleno</button>', css: ".btn-fill { ... }" },
                { name: '3D', html: '<button class="btn-3d text-white font-semibold py-2 px-4 rounded-lg">3D</button>', css: ".btn-3d { ... }" },
                { name: 'Destello', html: '<button class="btn-shine bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg">Destello</button>', css: ".btn-shine { ... }" },
                { name: 'Animado', html: '<button class="btn-border-animated text-blue-400 font-semibold py-2 px-4 rounded-lg"><span></span><span></span><span></span><span></span>Animado</button>', css: ".btn-border-animated { ... }" },
                { name: 'Pulsante', html: '<button class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg animate-pulse">Pulsante</button>' },
                { name: 'Temblor', html: '<button class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:animate-shake">Temblor</button>', css: "@keyframes shake-animation { ... }" },
                { name: 'Recorte', html: '<button class="btn-cutout font-bold py-2 px-4 rounded-lg text-lg">Recorte</button>', css: ".btn-cutout { ... }" },
                { name: 'Líquido', html: '<button class="btn-liquid bg-cyan-500 text-white font-semibold py-2 px-4 rounded-lg">Líquido</button>', css: ".btn-liquid { ... }" },
                { name: 'Trazo SVG', html: '<button class="btn-svg-draw font-semibold py-2 px-4 rounded-lg"><svg><rect x="0" y="0" fill="none" width="100%" height="100%"></rect></svg>Trazo SVG</button>', css: ".btn-svg-draw { ... }" },
                { name: 'Glitch', html: '<button class="btn-glitch font-mono text-cyan-400 py-2 px-4 rounded-lg" data-text="GLITCH">GLITCH</button>', css: ".btn-glitch { ... }" },
                { name: 'Borde Grad.', html: '<button class="btn-gradient-border text-white font-semibold py-2 px-4 rounded-lg">Borde Grad.</button>', css: ".btn-gradient-border { ... }" },
                { name: 'Cyberpunk', html: '<button class="btn-cyber text-cyan-300 font-bold py-2 px-4">Cyberpunk</button>', css: ".btn-cyber { ... }" },
                { name: 'Obturador', html: '<button class="btn-shutter-out text-white font-semibold py-2 px-4 rounded-lg">Obturador</button>', css: ".btn-shutter-out { ... }" },
                { name: 'Capas', html: '<button class="btn-layers relative bg-emerald-500 text-white font-semibold py-2 px-4 rounded-lg"><span></span><span></span><span></span>Capas</button>', css: ".btn-layers { ... }" },
                { name: 'Icono', html: '<button class="bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg flex items-center gap-2 group">Explorar <span class="transition-transform group-hover:translate-x-1">→</span></button>' },
                { name: 'Neumórfico', html: '<button class="bg-gray-800 text-gray-400 font-semibold py-2 px-4 rounded-full shadow-[7px_7px_15px_#1a202c,_-7px_-7px_15px_#3e4a5f] active:shadow-[inset_7px_7px_15px_#1a202c,_inset_-7px_-7px_15px_#3e4a5f] transition-shadow">Neumórfico</button>' },
                { name: 'Elástico', html: '<button class="bg-yellow-500 text-gray-900 font-semibold py-2 px-4 rounded-lg transition-transform duration-300 ease-[cubic-bezier(0.68,-0.55,0.27,1.55)] hover:scale-110 active:scale-90">Elástico</button>' },
                { name: 'Subrayado', html: '<button class="relative text-blue-400 font-semibold py-2 px-4 group">Subrayado<span class="absolute bottom-1 left-0 w-0 h-0.5 bg-blue-400 transition-all duration-200 group-hover:w-full"></span></button>' },
                { name: 'Texto Desliz.', html: '<button class="relative bg-green-600 text-white font-semibold py-2 px-4 rounded-lg h-[40px] overflow-hidden group"><span class="flex items-center justify-center h-full transition-transform duration-300 group-hover:-translate-y-full">Deslizar</span><span class="absolute inset-0 flex items-center justify-center h-full transition-transform duration-300 translate-y-full group-hover:translate-y-0">¡Adelante!</span></button>' },
                { name: 'Spotlight', html: '<button class="btn-spotlight bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg"><span></span>Spotlight</button>', css: '.btn-spotlight { ... }' },
                { name: 'Gooey', html: '<button class="btn-gooey bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg">Gooey</button>', css: '.btn-gooey { ... }' },
                { name: 'Pixelado', html: '<button class="btn-pixelated bg-red-600 text-white font-semibold py-2 px-4 rounded-lg"><span>Pixelado</span></button>', css: '.btn-pixelated { ... }' },
                { name: 'Magnético', html: '<button class="btn-magnetic bg-indigo-500 text-white font-semibold py-3 px-6 rounded-full flex items-center gap-2 transition-transform duration-300"><i class="fas fa-magnet"></i>Magnético</button>', css: '/* Requiere JS */' },
                { name: 'Revelar Texto', html: '<button class="relative bg-teal-500 text-white font-semibold py-2 px-4 rounded-lg overflow-hidden group"><span class="relative inline-block"><span class="absolute top-0 left-0 w-full h-full bg-teal-300 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"></span><span class="relative">Revelar</span></span></button>' },
                { name: 'Borde Doble', html: '<button class="relative border-2 border-cyan-400 text-cyan-400 font-semibold py-2 px-4 rounded-lg transition-all hover:text-white group"><span class="absolute inset-0 border-2 border-cyan-400 rounded-lg scale-110 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300"></span>Borde Doble</button>' },
                { name: 'Invertir', html: '<button class="bg-white text-black font-semibold py-2 px-4 rounded-lg transition-all hover:bg-black hover:text-white border-2 border-white">Invertir</button>' },
                { name: 'Trazo de Texto', html: '<button class="text-5xl font-black text-transparent" style="-webkit-text-stroke: 2px #f472b6;">Trazo</button>' },
                { name: 'Sombra Larga', html: '<button class="text-white font-semibold py-2 px-4 rounded-lg" style="text-shadow: 4px 4px 0px #1d4ed8;">Sombra</button>' },
                { name: 'Parpadeo TV', html: '<button class="text-green-400 font-mono py-2 px-4 rounded-lg animate-flicker">Parpadeo TV</button>', css: '@keyframes flicker { ... }' },
                { name: 'Carga', html: '<button class="btn-loading bg-rose-500 text-white font-semibold py-2 px-4 rounded-lg relative"><span class="btn-text">Cargar</span></button>', css: '/* Requiere JS */' },
                { name: 'Switch', html: '<button class="btn-switch w-16 h-8 bg-gray-600 rounded-full p-1 flex items-center transition-colors"><span class="w-6 h-6 bg-white rounded-full shadow-md transform transition-transform"></span></button>', css: '/* Requiere JS */' },
                { name: 'Burbuja', html: '<button class="btn-bubble bg-sky-500 text-white font-semibold py-2 px-4 rounded-lg relative overflow-hidden">Burbuja</button>', css: '/* Requiere JS */' },
                { name: 'Icono Desliz.', html: '<button class="bg-fuchsia-500 text-white font-semibold py-2 px-4 rounded-lg flex items-center gap-2 group w-32 justify-center"><span class="transform transition-transform group-hover:-translate-x-4">Icono</span><i class="fas fa-arrow-right transform transition-all opacity-0 -translate-x-4 group-hover:opacity-100 group-hover:translate-x-0"></i></button>' },
                { name: 'Dividir', html: '<button class="btn-split relative bg-transparent border-2 border-emerald-400 text-emerald-400 font-semibold py-2 px-4 rounded-lg">Dividir</button>', css: '.btn-split::before, .btn-split::after { ... }' },
                { name: 'Tinta', html: '<button class="btn-ink relative bg-amber-500 text-white font-semibold py-2 px-4 rounded-lg overflow-hidden">Tinta</button>', css: '/* Requiere JS */' },
                { name: 'Social', html: '<button class="btn-social-icon twitter"><i class="fab fa-twitter"></i></button>', css: '.btn-social-icon { ... }' },
                { name: 'Descarga', html: '<button class="btn-download font-semibold py-2 px-4 rounded-lg flex items-center gap-2"><div class="progress"></div><span class="relative">Descargar</span></button>', css: '.btn-download { ... }' },
                { name: 'Icono Rotar', html: '<button class="btn-icon-rotate font-semibold py-2 px-4 rounded-lg flex items-center gap-2"><i class="fas fa-sync-alt"></i>Rotar</button>', css: '.btn-icon-rotate { ... }' },
                { name: 'Fondo Inclinado', html: '<button class="btn-skew-bg text-white font-semibold py-2 px-4 rounded-lg">Inclinado</button>', css: '.btn-skew-bg { ... }' },
                { name: 'Texto Revelado', html: '<button class="btn-text-reveal bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg"><span data-text="¡Listo!">Hover</span></button>', css: '.btn-text-reveal { ... }' },
                { name: 'Glitch Slice', html: '<button class="btn-glitch-slice border-2 border-red-500 text-red-500 font-mono py-2 px-4 rounded-lg">Slice</button>', css: '.btn-glitch-slice { ... }' },
                { name: 'Subrayado Crece', html: '<button class="btn-underline-grow relative text-purple-400 font-semibold py-2 px-4">Crecer</button>', css: '.btn-underline-grow { ... }' },
                { name: 'Candado', html: '<button class="btn-lock relative font-semibold py-2 px-4 rounded-lg flex items-center justify-center w-24 overflow-hidden"><i class="fas fa-lock"></i><i class="fas fa-unlock"></i></button>', css: '.btn-lock { ... }' },
                { name: 'Flecha', html: '<button class="btn-arrow-circle relative bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-full">Siguiente</button>', css: '.btn-arrow-circle { ... }' },
                { name: 'Borde Pop', html: '<button class="btn-border-pop border-2 border-transparent text-pink-500 font-semibold py-2 px-4 rounded-lg transition-all">Pop</button>', css: '.btn-border-pop { ... }' },
                { name: 'Facebook', html: '<button class="btn-social-icon facebook"><i class="fab fa-facebook-f"></i></button>', css: '.btn-social-icon.facebook { ... }' },
                { name: 'Instagram', html: '<button class="btn-social-icon instagram"><i class="fab fa-instagram"></i></button>', css: '.btn-social-icon.instagram { ... }' },
                { name: 'LinkedIn', html: '<button class="btn-social-icon linkedin"><i class="fab fa-linkedin-in"></i></button>', css: '.btn-social-icon.linkedin { ... }' },
                { name: 'GitHub', html: '<button class="btn-social-icon github"><i class="fab fa-github"></i></button>', css: '.btn-social-icon.github { ... }' },
                { name: 'YouTube', html: '<button class="btn-social-icon youtube"><i class="fab fa-youtube"></i></button>', css: '.btn-social-icon.youtube { ... }' },
                { name: 'Pinterest', html: '<button class="btn-social-icon pinterest"><i class="fab fa-pinterest-p"></i></button>', css: '.btn-social-icon.pinterest { ... }' },
                { name: 'TikTok', html: '<button class="btn-social-icon tiktok"><i class="fab fa-tiktok"></i></button>', css: '.btn-social-icon.tiktok { ... }' },
                { name: 'Twitch', html: '<button class="btn-social-icon twitch"><i class="fab fa-twitch"></i></button>', css: '.btn-social-icon.twitch { ... }' },
                { name: 'Discord', html: '<button class="btn-social-icon discord"><i class="fab fa-discord"></i></button>', css: '.btn-social-icon.discord { ... }' },
                { name: 'Reddit', html: '<button class="btn-social-icon reddit"><i class="fab fa-reddit-alien"></i></button>', css: '.btn-social-icon.reddit { ... }' },
                { name: 'WhatsApp', html: '<button class="btn-social-icon whatsapp"><i class="fab fa-whatsapp"></i></button>', css: '.btn-social-icon.whatsapp { ... }' },
                { name: 'Telegram', html: '<button class="btn-social-icon telegram"><i class="fab fa-telegram-plane"></i></button>', css: '.btn-social-icon.telegram { ... }' }
            ];
            
            const effects = [
                { name: 'Borde Neón', html: '<div class="card card-neon-border flex justify-center items-center p-4"><h3 class="text-xl font-bold">Borde Neón</h3></div>', css: ".card-neon-border { ... }" },
                { name: 'Parallax', html: '<div class="card card-parallax relative"><img src="https://placehold.co/320x280/2d3748/FFFFFF?text=Fondo" class="card-image w-full h-full object-cover absolute rounded-lg" onerror="this.onerror=null;this.src=\'https://placehold.co/320x280/2d3748/FFFFFF?text=Error\'"><h3 class="card-title text-2xl font-black text-white absolute bottom-4 left-4">PARALLAX</h3></div>', css: ".card-parallax { ... }" },
                { name: 'Cristal (Glass)', html: '<div class="card card-glass flex justify-center items-center p-4"><h3 class="text-xl font-bold">Cristal</h3></div>', css: ".card-glass { ... }" },
                { name: 'Aurora Demo', html: '<div class="card card-aurora-demo flex justify-center items-center p-4"><h3 class="text-xl font-bold">Aurora</h3></div>', css: ".card-aurora-demo { ... }" },
                { name: 'Zoom Imagen', html: '<div class="card card-img-zoom"><img src="https://placehold.co/320x280/8b5cf6/FFFFFF?text=Imagen" alt="Placeholder" class="card-image" onerror="this.onerror=null;this.src=\'https://placehold.co/320x280/8b5cf6/FFFFFF?text=Error\'"></div>', css: ".card-img-zoom { ... }" },
                { name: 'Contenido Desliz.', html: '<div class="card card-slide-content relative"><img src="https://placehold.co/320x280/10b981/FFFFFF?text=Imagen" class="w-full h-full object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/320x280/10b981/FFFFFF?text=Error\'"><div class="card-content"><h3 class="text-lg font-bold">Título</h3></div></div>', css: ".card-slide-content { ... }" },
                { name: 'Inclinado', html: '<div class="card card-skew flex justify-center items-center p-4"><h3 class="text-xl font-bold">Inclinado</h3></div>', css: ".card-skew:hover { transform: skew(-5deg, -2deg) scale(1.05); }" },
                { name: 'Profundidad 3D', html: '<div class="card card-3d-depth flex justify-center items-center p-4 bg-indigo-600"><h3 class="text-xl font-bold">Profundidad</h3></div>', css: ".card-3d-depth { ... }" },
                { name: 'Desplazamiento de Borde', html: '<div class="card-border-shift p-6 rounded-lg"><h3 class="text-xl font-bold text-sky-400">Título del Puesto</h3><p class="text-lg font-semibold text-white">Empresa</p><p class="text-gray-300 mt-2">Descripción de tus tareas...</p></div>', css: ".card-border-shift { ... }" },
                { name: 'Imagen Desplaz.', html: '<div class="card card-img-shift"><img src="https://placehold.co/320x320/f472b6/FFFFFF?text=Imagen" class="card-image w-full h-full object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/320x320/f472b6/FFFFFF?text=Error\'"></div>', css: ".card-img-shift { ... }" },
                { name: 'Acordeón', html: '<div class="card card-accordion p-4 flex flex-col items-center"><h3 class="text-xl font-bold">Acordeón</h3><div class="hidden-content text-center mt-4"><p class="text-gray-400">Contenido oculto que aparece al pasar el cursor.</p></div></div>', css: ".card-accordion { ... }" },
                { name: 'Plegable', html: '<div class="card card-folding bg-teal-500 flex justify-end items-center p-4"><div class="fold flex justify-center items-center"><p class="text-white font-bold -rotate-90">ABRIR</p></div><h3 class="text-xl font-bold">Plegable</h3></div>', css: ".card-folding { ... }" },
                { name: 'Esquina Pelable', html: '<div class="card card-peel flex justify-center items-center bg-indigo-600"><h3 class="text-xl font-bold">Pelar Esquina</h3></div>', css: ".card-peel::before { ... }" },
                { name: 'Imagen Glitch', html: '<div class="card card-glitch-img bg-cover" style="background-image: url(\'https://placehold.co/320x280/eab308/FFFFFF?text=Imagen\')"><div class="glitch-layer"></div><div class="glitch-layer"></div><h3 class="absolute bottom-4 left-4 text-2xl font-black text-white">Glitch</h3></div>', css: ".card-glitch-img { ... }" },
                { name: 'Spotlight Follow', html: '<div class="card card-spotlight-follow flex justify-center items-center"><h3 class="text-xl font-bold">Spotlight</h3></div>', css: '.card-spotlight-follow { ... } /* Requiere JS */' },
                { name: '3D Flip', html: '<div class="card card-3d-flip"><div class="card-front flex justify-center items-center bg-teal-600">Frente</div><div class="card-back flex justify-center items-center bg-rose-600 p-4 text-center">Contenido del Dorso</div></div>', css: '.card-3d-flip { ... }' },
                { name: 'Enfoque Contenido', html: '<div class="card relative group bg-cover bg-center" style="background-image: url(\'https://placehold.co/320x280/34d399/FFFFFF?text=Fondo\')"><div class="absolute inset-0 bg-black/50 group-hover:bg-black/75 transition-all duration-300"></div><div class="relative p-4 flex flex-col justify-end h-full text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"><h3 class="font-bold text-lg transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">Enfoque</h3><p class="text-sm transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-100">El contenido aparece.</p></div></div>', css: '/* CSS Only */' },
                { name: 'Borde Animado', html: '<div class="card relative p-1 overflow-hidden bg-gray-900"><div class="absolute inset-[-100%] bg-purple-500 animate-spin-slow" style="animation-duration: 4s;"></div><div class="relative bg-gray-900 w-full h-full rounded-lg flex items-center justify-center">Borde Animado</div></div>', css: '@keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }' },
                { name: 'Desenfoque Fondo', html: '<div class="card relative bg-cover bg-center group" style="background-image: url(\'https://placehold.co/320x280/f87171/FFFFFF?text=Imagen\')"><div class="absolute inset-2 bg-white/10 backdrop-blur-sm rounded-lg group-hover:backdrop-blur-none group-hover:bg-transparent transition-all duration-300"></div><h3 class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-bold text-white opacity-0 group-hover:opacity-100 transition-opacity">Visible</h3></div>', css: '/* CSS Only */' },
                { name: 'Texto Revelado', html: '<div class="card p-4 flex items-end bg-gray-900 group"><h3 class="text-2xl font-bold text-white relative w-full overflow-hidden"><span class="absolute bottom-0 left-0 h-full w-full bg-sky-400 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-700 ease-in-out"></span><span class="relative mix-blend-lighten">Texto Revelado</span></h3></div>', css: '/* CSS Only */' },
                { name: 'Líneas Conectadas', html: '<div class="card relative bg-gray-900"><canvas class="card-particles w-full h-full absolute top-0 left-0"></canvas><h3 class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-bold">Partículas</h3></div>', css: '/* Requiere JS */' },
                { name: 'Reflejo', html: '<div class="card group bg-gray-900"><div class="relative"><img src="https://placehold.co/320x200/fb923c/FFFFFF?text=Imagen" class="w-full h-auto block" onerror="this.onerror=null;this.src=\'https://placehold.co/320x200/fb923c/FFFFFF?text=Error\'"><div class="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent"></div></div><div class="absolute bottom-[-100%] left-0 w-full transform -scale-y-100 opacity-30 group-hover:opacity-50 transition-opacity duration-300"><img src="https://placehold.co/320x200/fb923c/FFFFFF?text=Imagen" class="w-full h-auto block" onerror="this.onerror=null;this.src=\'https://placehold.co/320x200/fb923c/FFFFFF?text=Error\'"></div></div>', css: '/* CSS Only */' },
                { name: 'Máscara Circular', html: '<div class="card card-mask-hover bg-cover bg-center group" style="background-image: url(\'https://placehold.co/320x280/4ade80/FFFFFF?text=Imagen\')"><div class="w-full h-full bg-gray-900 flex items-center justify-center text-center p-4 text-white" style="clip-path: circle(25% at 50% 50%); transition: clip-path 0.4s ease-in-out;"><h3 class="text-xl font-bold">Máscara</h3></div></div>', css: '.card-mask-hover:hover div { clip-path: circle(75% at 50% 50%); }' },
                { name: 'Contorno de Texto', html: '<div class="card flex justify-center items-center bg-gray-900"><h3 class="text-5xl font-black text-white text-center" style="background-image: url(https://images.unsplash.com/photo-1554034483-04fda0d3507b?w=320&h=280&fit=crop); -webkit-background-clip: text; background-clip: text; color: transparent;">CONTORNO</h3></div>', css: '/* CSS Only */' },
                { name: 'Capa de Color', html: '<div class="card relative group"><img src="https://placehold.co/320x280/d946ef/FFFFFF?text=Imagen" class="w-full h-full object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/320x280/d946ef/FFFFFF?text=Error\'"><div class="absolute inset-0 bg-fuchsia-500 mix-blend-multiply group-hover:mix-blend-normal transition-all duration-300"></div></div>', css: '/* CSS Only */' },
                { name: 'Inclinación Magnética', html: '<div class="card card-magnetic-tilt flex items-center justify-center bg-rose-500"><h3 class="text-2xl font-bold">Magnético</h3></div>', css: '/* Requiere JS */' },
                { name: 'Grano Animado', html: '<div class="card relative flex items-center justify-center overflow-hidden bg-slate-700"><h3 class="text-2xl font-bold">Grano</h3><div class="card-grain"></div></div>', css: '.card-grain { ... }' },
                { name: 'Patrón Animado', html: '<div class="card relative flex items-center justify-center overflow-hidden"><div class="card-pattern"></div><h3 class="relative text-2xl font-bold">Patrón</h3></div>', css: '.card-pattern { ... }' },
                { name: 'Elementos Flotantes', html: '<div class="card relative overflow-hidden flex items-center justify-center"><div class="floating-shapes"></div><h3 class="relative text-2xl font-bold">Flotante</h3></div>', css: '.floating-shapes { ... }' },
                { name: 'Fondo Aurora', html: '<div class="card card-background-aurora flex justify-center items-center"><h3 class="text-xl font-bold">Fondo Aurora</h3></div>', css: '.card-background-aurora { ... }' },
                { name: 'Pixel Sort', html: '<div class="card card-pixel-sort"><img src="https://placehold.co/320x280/a78bfa/FFFFFF?text=Imagen" class="w-full h-full object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/320x280/a78bfa/FFFFFF?text=Error\'"></div>', css: '.card-pixel-sort:hover img { filter: url(#pixel-sort-filter); }' },
                { name: 'Gooey Hover', html: '<div class="card card-gooey-hover flex justify-center items-center"><div class="gooey-blob w-16 h-16"></div><h3 class="absolute text-xl font-bold">Gooey</h3></div>', css: '.card-gooey-hover { ... } /* Requiere SVG */' },
                { name: 'Foco en Texto', html: '<div class="card card-text-focus p-4 flex flex-col justify-center items-center text-center"><p class="unfocused">Pasa el cursor</p><h3 class="focused text-2xl font-bold text-sky-400">AQUÍ</h3><p class="unfocused">para enfocar</p></div>', css: '.card-text-focus { ... }' },
                { name: 'Ventana Recortada', html: '<div class="card card-cutout-window"><div class="window w-full h-full bg-cover" style="background-image: url(\'https://placehold.co/320x280/ec4899/FFFFFF?text=Interior\')"></div></div>', css: '.card-cutout-window { ... }' },
                { name: 'Rastro de Imagen', html: '<div class="card card-image-trail flex justify-center items-center"><img src="https://placehold.co/100x100/34d399/FFFFFF?text=ICON" class="trail-img w-24 h-24" onerror="this.onerror=null;this.src=\'https://placehold.co/100x100/34d399/FFFFFF?text=Error\'"><img src="https://placehold.co/100x100/34d399/FFFFFF?text=ICON" class="trail-img w-24 h-24" onerror="this.onerror=null;this.src=\'https://placehold.co/100x100/34d399/FFFFFF?text=Error\'"><img src="https://placehold.co/100x100/34d399/FFFFFF?text=ICON" class="w-24 h-24 relative" onerror="this.onerror=null;this.src=\'https://placehold.co/100x100/34d399/FFFFFF?text=Error\'"></div>', css: '.card-image-trail { ... }' },
                { name: 'Rejilla Revelada', html: '<div class="card card-grid-reveal grid grid-cols-5 grid-rows-5 p-0"><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div></div>', css: '.card-grid-reveal { ... }' },
                { name: 'Texto Perspectiva', html: '<div class="card card-perspective-text flex justify-center items-center"><h3 class="text-3xl font-black">Perspectiva</h3></div>', css: '.card-perspective-text { ... }' },
                { name: 'Preview Video', html: '<div class="card card-video-preview p-0"><video autoplay loop muted class="w-full h-full object-cover" style="filter: grayscale(100%) blur(5px);"><source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4"></video></div>', css: '.card-video-preview { ... }' }
            ];

            const effectLogics = {
                p1: (ctx, s) => {
                    if (!s.p) s.p = [];
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (s.p.length < 100) for (let i = 0; i < 100; i++) s.p.push({ x: Math.random() * w, y: Math.random() * h, sz: Math.random() * 2 + 1, sy: -.2 });
                    ctx.clearRect(0, 0, w, h);
                    s.p.forEach(p => {
                        p.y += p.sy;
                        if (p.y < 0) { p.y = h; p.x = Math.random() * w }
                        ctx.fillStyle = `rgba(255,255,255,${Math.random()})`;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.sz, 0, Math.PI * 2);
                        ctx.fill()
                    })
                },
                p2: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; s.fSz = 14; s.cols = w / s.fSz; s.drops = []; for (let x = 0; x < s.cols; x++) s.drops[x] = 1 }
                    ctx.fillStyle = 'rgba(26,32,44,.1)';
                    ctx.fillRect(0, 0, w, h);
                    ctx.fillStyle = '#34D399';
                    ctx.font = s.fSz + 'px monospace';
                    for (let i = 0; i < s.drops.length; i++) {
                        const txt = String.fromCharCode(0x30A0 + Math.random() * 96);
                        ctx.fillText(txt, i * s.fSz, s.drops[i] * s.fSz);
                        if (s.drops[i] * s.fSz > h && Math.random() > .975) s.drops[i] = 0;
                        s.drops[i]++
                    }
                },
                p3: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; for (let i = 0; i < 30; i++) s.p.push({ x: Math.random() * w, y: Math.random() * h, sz: Math.random() * 3 + 1, sx: (Math.random() - .5) * .5, sy: (Math.random() - .5) * .5, o: Math.random() }) }
                    ctx.clearRect(0, 0, w, h);
                    s.p.forEach(p => {
                        p.x += p.sx;
                        p.y += p.sy;
                        p.o += (Math.random() - .5) * .1;
                        if (p.o < 0) p.o = 0;
                        if (p.o > 1) p.o = 1;
                        if (p.x > w || p.x < 0) p.sx *= -1;
                        if (p.y > h || p.y < 0) p.sy *= -1;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.sz, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(250,204,21,${p.o})`;
                        ctx.fill()
                    })
                },
                p4: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.l) { s.l = []; for (let i = 0; i < 15; i++) s.l.push({ x1: w / 2, y1: h / 2, x2: Math.random() * w, y2: Math.random() * h, life: 1 }) }
                    ctx.clearRect(0, 0, w, h);
                    s.l.forEach((l, i) => {
                        l.life -= .01;
                        if (l.life <= 0) s.l[i] = { x1: w / 2, y1: h / 2, x2: Math.random() * w, y2: Math.random() * h, life: 1 };
                        ctx.beginPath();
                        ctx.moveTo(l.x1, l.y1);
                        ctx.lineTo(l.x2, l.y2);
                        ctx.strokeStyle = `rgba(59,130,246,${l.life})`;
                        ctx.lineWidth = 2;
                        ctx.stroke()
                    })
                },
                p5: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; for (let i = 0; i < 20; i++) s.p.push({ x: Math.random() * w, y: Math.random() * h, r: Math.random() * 10 + 5, mr: Math.random() * 20 + 10, sp: Math.random() * .05 + .01, c: `hsl(${Math.random()*360},100%,70%)` }) }
                    ctx.clearRect(0, 0, w, h);
                    s.p.forEach((p, i) => {
                        p.r += p.sp;
                        if (p.r > p.mr) s.p[i] = { x: Math.random() * w, y: Math.random() * h, r: 0, mr: Math.random() * 20 + 10, sp: Math.random() * .05 + .01, c: `hsl(${Math.random()*360},100%,70%)` };
                        ctx.strokeStyle = p.c;
                        ctx.lineWidth = 3;
                        ctx.globalAlpha = 1 - (p.r / p.mr);
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                        ctx.stroke();
                        ctx.globalAlpha = 1
                    })
                },
                p6: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; s.bY = h * .8 }
                    ctx.clearRect(0, 0, w, h);
                    if (s.p.length < 100) for (let i = 0; i < 5; i++) s.p.push({ x: w / 2 + (Math.random() - .5) * 50, y: s.bY, sz: Math.random() * 5 + 2, sy: -Math.random() * 2 - 1, life: 1 });
                    s.p.forEach((p, i) => {
                        p.y += p.sy;
                        p.life -= .02;
                        if (p.life <= 0) s.p.splice(i, 1);
                        const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.sz);
                        g.addColorStop(0, `rgba(251,146,60,${p.life})`);
                        g.addColorStop(1, `rgba(239,68,68,0)`);
                        ctx.fillStyle = g;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.sz, 0, Math.PI * 2);
                        ctx.fill()
                    })
                },
                p7: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    ctx.fillStyle = 'rgba(26,32,44,.2)';
                    ctx.fillRect(0, 0, w, h);
                    if (w <= 0 || h <= 0) return;
                    for (let i = 0; i < 5; i++) {
                        const x = Math.random() * w;
                        const y = Math.random() * h;
                        const size = Math.random() * 20 + 5;
                        ctx.fillStyle = ['#f472b6', '#38bdf8', '#a78bfa'][Math.floor(Math.random() * 3)];
                        ctx.fillRect(x, y, size, size);
                    }
                    for (let i = 0; i < 3; i++) {
                        const y = Math.random() * h;
                        const hgt = Math.random() * 10 + 1;
                        try {
                           const iD = ctx.getImageData(0, y, w, hgt);
                           ctx.putImageData(iD, (Math.random() - .5) * 20, y);
                        } catch(e) { /* ignore security errors on some browsers */ }
                    }
                },
                p8: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; for (let i = 0; i < 50; i++) s.p.push({ x: Math.random() * w, y: Math.random() * h, r: 2, sx: (Math.random() - .5) * .5, sy: (Math.random() - .5) * .5 }) }
                    ctx.clearRect(0, 0, w, h);
                    s.p.forEach(p => { p.x += p.sx;
                        p.y += p.sy; if (p.x < 0 || p.x > w) p.sx *= -1; if (p.y < 0 || p.y > h) p.sy *= -1;
                        ctx.fillStyle = 'white';
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, 2 * Math.PI);
                        ctx.fill() });
                    for (let i = 0; i < s.p.length; i++) {
                        for (let j = i; j < s.p.length; j++) {
                            const dx = s.p[i].x - s.p[j].x, dy = s.p[i].y - s.p[j].y, dist = Math.sqrt(dx * dx + dy * dy);
                            if (dist < 100) { ctx.beginPath();
                                ctx.strokeStyle = `rgba(255,255,255,${1-dist/100})`;
                                ctx.lineWidth = 1;
                                ctx.moveTo(s.p[i].x, s.p[i].y);
                                ctx.lineTo(s.p[j].x, s.p[j].y);
                                ctx.stroke() }
                        }
                    }
                },
                p9: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; s.e = null }
                    ctx.clearRect(0, 0, w, h);
                    if (!s.e && Math.random() > .95) { s.e = { x: w / 2, y: h / 2, p: [] }; for (let i = 0; i < 50; i++) { const a = Math.random() * Math.PI * 2, sp = Math.random() * 3 + 1;
                        s.e.p.push({ x: s.e.x, y: s.e.y, sx: Math.cos(a) * sp, sy: Math.sin(a) * sp, l: 1, c: `hsl(${Math.random()*360},100%,70%)` }) } }
                    if (s.e) { s.e.p.forEach((p, i) => { p.x += p.sx;
                        p.y += p.sy;
                        p.l -= .02; if (p.l <= 0) s.e.p.splice(i, 1);
                        ctx.fillStyle = p.c;
                        ctx.globalAlpha = p.l;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
                        ctx.fill() });
                        ctx.globalAlpha = 1; if (s.e.p.length === 0) s.e = null }
                },
                p10: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; for (let i = 0; i < 200; i++) s.p.push({ a: i * .1, r: i * .5, c: `hsl(${i%360},100%,70%)` }) }
                    ctx.fillStyle = 'rgba(26,32,44,0.1)';
                    ctx.fillRect(0,0,w,h);
                    ctx.save();
                    ctx.translate(w / 2, h / 2);
                    s.p.forEach(p => { p.a += .05;
                        p.r *= .99; if (p.r < 1) p.r = Math.min(w,h) / 2; const x = Math.cos(p.a) * p.r, y = Math.sin(p.a) * p.r;
                        ctx.fillStyle = p.c;
                        ctx.beginPath();
                        ctx.arc(x, y, 2, 0, Math.PI * 2);
                        ctx.fill() });
                    ctx.restore()
                },
                p11: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; s.mouse = { x: w / 2, y: h / 2 };
                        ctx.canvas.addEventListener('mousemove', e => { const rect = ctx.canvas.getBoundingClientRect();
                            s.mouse.x = (e.clientX - rect.left);
                            s.mouse.y = (e.clientY - rect.top) }) }
                    ctx.fillStyle = 'rgba(26,32,44,0.1)';
                    ctx.fillRect(0,0,w,h);
                    s.p.push({ x: s.mouse.x, y: s.mouse.y, l: 1, c: `hsl(${s.p.length%360},100%,70%)` });
                    s.p.forEach((p, i) => { p.l -= .02; if (p.l <= 0) s.p.splice(i, 1);
                        ctx.fillStyle = p.c;
                        ctx.globalAlpha = p.l;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
                        ctx.fill() });
                    ctx.globalAlpha = 1
                },
                p13: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; for (let i = 0; i < 40; i++) s.p.push({ x: Math.random() * w, y: Math.random() * h, sz: Math.random() * 3 + 1, sy: -Math.random() * .5 - .2, o: 1 }) }
                    ctx.clearRect(0, 0, w, h);
                    s.p.forEach(p => { p.y += p.sy;
                        p.x += Math.sin(p.y / 20) * .5;
                        p.o -= .005; if (p.o <= 0) { p.y = h; p.x = Math.random() * w; p.o = 1 }
                        ctx.fillStyle = `rgba(255,100,50,${p.o})`;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.sz, 0, Math.PI * 2);
                        ctx.fill()
                    })
                },
                p14: (ctx, s) => {
                    const w = ctx.canvas.width / (window.devicePixelRatio || 1), h = ctx.canvas.height / (window.devicePixelRatio || 1);
                    if (!s.p) { s.p = []; for (let i = 0; i < 100; i++) s.p.push({ x: Math.random() * w, y: Math.random() * h, sz: Math.random() * 3 + 1, sy: Math.random() * 1 + .5 }) }
                    ctx.clearRect(0, 0, w, h);
                    s.p.forEach(p => { p.y += p.sy;
                        p.x += Math.sin(p.y / 50); if (p.y > h) { p.y = 0; p.x = Math.random() * w }
                        ctx.fillStyle = 'white';
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.sz, 0, Math.PI * 2);
                        ctx.fill()
                    })
                },
            };
            
            const newParticleEffects = [
                { id: 'p1', name: 'Polvo de Estrellas' },
                { id: 'p2', name: 'Lluvia Digital' },
                { id: 'p3', name: 'Luciérnagas Encantadas' },
                { id: 'p4', name: 'Trazos Geométricos' },
                { id: 'p5', name: 'Burbujas de Neón' },
                { id: 'p6', name: 'Fuego Etéreo' },
                { id: 'p7', name: 'Glitch Cuántico' },
                { id: 'p8', name: 'Constelación Conectada' },
                { id: 'p9', name: 'Explosión de Partículas' },
                { id: 'p10', name: 'Vórtice Espiral' },
                { id: 'p11', name: 'Rastro de Ratón' },
                { id: 'p13', name: 'Brasas Flotantes' },
                { id: 'p14', name: 'Nevada Suave' }
            ].map(effect => ({
                name: effect.name,
                html: `<div class="card relative bg-gray-900 w-full h-full min-h-[280px]">
                         <canvas class="particle-effect-canvas w-full h-full absolute top-0 left-0 rounded-lg" data-effect-id="${effect.id}"></canvas>
                       </div>`,
                css: `/* Canvas-based animation. See JS logic. */`,
                jsLogic: effectLogics[effect.id].toString()
            }));

            // Color Picker Logic (Fixed)
            const colorWheelContainer = document.getElementById('color-wheel-container');
            if (colorWheelContainer) {
                const canvas = document.getElementById('color-wheel');
                const ctx = canvas.getContext('2d', { willReadFrequently: true });
                const indicator = document.getElementById('color-picker-indicator');
                const hexInput = document.getElementById('hex-input');
                const rgbInput = document.getElementById('rgb-input');
                const hslInput = document.getElementById('hsl-input');
                const colorPreview = document.getElementById('color-preview');
                let isDragging = false;

                function drawColorWheel() {
                    const radius = canvas.width / 2;
                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    // Hue circle
                    for (let angle = 0; angle < 360; angle++) {
                        const startAngle = (angle - 1) * Math.PI / 180;
                        const endAngle = angle * Math.PI / 180;
                        ctx.beginPath();
                        ctx.moveTo(radius, radius);
                        ctx.arc(radius, radius, radius, startAngle, endAngle);
                        ctx.closePath();
                        ctx.fillStyle = `hsl(${angle}, 100%, 50%)`;
                        ctx.fill();
                    }

                    // Saturation gradient (white to transparent)
                    const satGradient = ctx.createRadialGradient(radius, radius, 0, radius, radius, radius);
                    satGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
                    satGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                    ctx.fillStyle = satGradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                    // Lightness gradient (black to transparent)
                    const lightGradient = ctx.createRadialGradient(radius, radius, radius, radius, radius, radius);
                    lightGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');
                    lightGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');
                    ctx.fillStyle = lightGradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }

                function updateColor(x, y) {
                    const imageData = ctx.getImageData(x, y, 1, 1).data;
                    if (imageData[3] === 0) return; // Ignore transparent areas outside the circle
                    
                    const [r, g, b] = imageData;
                    const hex = rgbToHex(r, g, b);
                    const hsl = rgbToHsl(r, g, b);
                    
                    colorPreview.style.backgroundColor = hex;
                    hexInput.value = hex;
                    rgbInput.value = `rgb(${r}, ${g}, ${b})`;
                    hslInput.value = `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`;

                    indicator.style.left = `${(x / canvas.width) * 100}%`;
                    indicator.style.top = `${(y / canvas.height) * 100}%`;
                }

                function handlePickerEvent(e) {
                    e.preventDefault();
                    const rect = canvas.getBoundingClientRect();
                    const scaleX = canvas.width / rect.width;
                    const scaleY = canvas.height / rect.height;
                    const x = ((e.clientX || e.touches[0].clientX) - rect.left) * scaleX;
                    const y = ((e.clientY || e.touches[0].clientY) - rect.top) * scaleY;
                    const radius = canvas.width / 2;
                    const dist = Math.sqrt((x - radius) ** 2 + (y - radius) ** 2);

                    if (dist <= radius) {
                        updateColor(x, y);
                    }
                }
                
                colorWheelContainer.addEventListener('mousedown', (e) => { isDragging = true; handlePickerEvent(e); });
                colorWheelContainer.addEventListener('mousemove', (e) => { if (isDragging) handlePickerEvent(e); });
                document.addEventListener('mouseup', () => { isDragging = false; });
                
                colorWheelContainer.addEventListener('touchstart', (e) => { isDragging = true; handlePickerEvent(e); });
                colorWheelContainer.addEventListener('touchmove', (e) => { if (isDragging) handlePickerEvent(e); });
                colorWheelContainer.addEventListener('touchend', () => { isDragging = false; });

                const observer = new ResizeObserver(entries => {
                    const entry = entries[0];
                    const dpr = window.devicePixelRatio || 1;
                    const size = entry.contentRect.width;
                    canvas.width = size * dpr;
                    canvas.height = size * dpr;
                    canvas.style.width = `${size}px`;
                    canvas.style.height = `${size}px`;
                    
                    drawColorWheel();
                    updateColor(canvas.width / 2, canvas.height / 2);
                });
                observer.observe(colorWheelContainer);
            }

            function rgbToHex(r, g, b) {
                return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
            }
            function rgbToHsl(r, g, b) {
                r /= 255, g /= 255, b /= 255;
                let max = Math.max(r, g, b), min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;
                if (max == min) { h = s = 0; } 
                else {
                    let d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }
                return { h: h * 360, s: s * 100, l: l * 100 };
            }

            // --- Chart Gallery Logic ---
            const charts = [
                {
                    name: "Gráfico de Barras",
                    config: {
                        type: 'bar',
                        data: {
                            labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                            datasets: [{
                                label: 'Ventas 2025',
                                data: [12, 19, 3, 5, 2, 3],
                                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                                borderColor: 'rgba(54, 162, 235, 1)',
                                borderWidth: 1
                            }]
                        },
                        options: { scales: { y: { beginAtZero: true } }, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Líneas",
                    config: {
                        type: 'line',
                        data: {
                            labels: ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes'],
                            datasets: [{
                                label: 'Usuarios Activos',
                                data: [30, 45, 38, 52, 60],
                                fill: false,
                                borderColor: 'rgba(75, 192, 192, 1)',
                                tension: 0.1
                            }]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Torta (Pie)",
                    config: {
                        type: 'pie',
                        data: {
                            labels: ['Marketing', 'Ventas', 'Desarrollo'],
                            datasets: [{
                                data: [300, 50, 100],
                                backgroundColor: ['rgba(255, 99, 132, 0.8)', 'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)'],
                            }]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Anillo (Doughnut)",
                    config: {
                        type: 'doughnut',
                        data: {
                            labels: ['Desktop', 'Móvil', 'Tablet'],
                            datasets: [{
                                data: [55, 35, 10],
                                backgroundColor: ['rgba(75, 192, 192, 0.8)', 'rgba(153, 102, 255, 0.8)', 'rgba(255, 159, 64, 0.8)'],
                            }]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico Radar",
                    config: {
                        type: 'radar',
                        data: {
                            labels: ['Comunicación', 'Trabajo en Equipo', 'Liderazgo', 'Resolución de Problemas', 'Creatividad'],
                            datasets: [{
                                label: 'Habilidades',
                                data: [9, 7, 6, 8, 9],
                                fill: true,
                                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                borderColor: 'rgb(255, 99, 132)',
                                pointBackgroundColor: 'rgb(255, 99, 132)',
                            }]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Área Polar",
                    config: {
                        type: 'polarArea',
                        data: {
                            labels: ['Python', 'JavaScript', 'SQL', 'CSS', 'HTML'],
                            datasets: [{
                                label: 'Uso de Tecnologías',
                                data: [11, 16, 7, 3, 14],
                                backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(255, 205, 86, 0.5)', 'rgba(201, 203, 207, 0.5)', 'rgba(54, 162, 235, 0.5)']
                            }]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Burbujas",
                    config: {
                        type: 'bubble',
                        data: {
                            datasets: [{
                                label: 'Inversión vs. Retorno',
                                data: [{x: 20, y: 30, r: 15}, {x: 40, y: 10, r: 10}, {x: 32, y: 25, r: 8}, {x: 15, y: 45, r: 20}],
                                backgroundColor: 'rgba(255, 99, 132, 0.6)'
                            }]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Dispersión (Scatter)",
                    config: {
                        type: 'scatter',
                        data: {
                            datasets: [{
                                label: 'Edad vs. Ingresos',
                                data: [{x: 25, y: 50}, {x: 30, y: 65}, {x: 35, y: 80}, {x: 40, y: 75}, {x: 45, y: 95}],
                                backgroundColor: 'rgba(75, 192, 192, 0.6)'
                            }]
                        },
                        options: { scales: { x: { type: 'linear', position: 'bottom' } }, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico de Barras Apiladas",
                    config: {
                        type: 'bar',
                        data: {
                            labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                            datasets: [
                                { label: 'Producto A', data: [10, 20, 30, 40], backgroundColor: 'rgba(255, 99, 132, 0.5)' },
                                { label: 'Producto B', data: [15, 25, 35, 45], backgroundColor: 'rgba(54, 162, 235, 0.5)' }
                            ]
                        },
                        options: { scales: { x: { stacked: true }, y: { stacked: true } }, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                },
                {
                    name: "Gráfico Mixto (Línea y Barras)",
                    config: {
                        type: 'bar',
                        data: {
                            labels: ['Ene', 'Feb', 'Mar', 'Abr'],
                            datasets: [
                                { type: 'bar', label: 'Ventas (Unidades)', data: [50, 60, 70, 80], backgroundColor: 'rgba(75, 192, 192, 0.5)' },
                                { type: 'line', label: 'Objetivo', data: [55, 65, 75, 85], fill: false, borderColor: 'rgb(255, 99, 132)' }
                            ]
                        },
                        options: { maintainAspectRatio: false, plugins: { legend: { labels: { color: '#f3f4f6' } } } }
                    }
                }
            ];

            function renderChart(chartItem, index) {
                const wrapper = document.createElement('div');
                wrapper.className = 'component-display';
                wrapper.setAttribute('data-name', chartItem.name.toLowerCase());

                const chartContainer = document.createElement('div');
                chartContainer.className = 'relative h-64 w-full mb-4';
                const canvas = document.createElement('canvas');
                const canvasId = `chart-${index}`;
                canvas.id = canvasId;
                chartContainer.appendChild(canvas);
                
                Chart.defaults.color = '#9ca3af';
                Chart.defaults.borderColor = '#374151';

                new Chart(canvas.getContext('2d'), chartItem.config);

                const code = `<!-- HTML -->
<canvas id="${canvasId}" width="400" height="200"></canvas>

<!-- JavaScript (requiere Chart.js) -->
<script>
   const ctx = document.getElementById('${canvasId}').getContext('2d');
   const myChart = new Chart(ctx, ${JSON.stringify(chartItem.config, null, 2)});
<\/script>`;

                wrapper.innerHTML = `
                    <div class="flex-grow flex flex-col items-center justify-center p-2">
                        <h4 class="text-md font-bold text-purple-400 mb-4 text-center">${index + 1}. ${chartItem.name}</h4>
                    </div>
                    <div class="text-right mt-4">
                        <button class="copy-btn text-sm font-semibold py-2 px-4 rounded-md"><i class="fas fa-code mr-2"></i>Ver Código</button>
                    </div>
                    <pre class="code-snippet"><code>${code.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</code></pre>
                `;
                wrapper.insertBefore(chartContainer, wrapper.children[0]);
                return wrapper;
            }

            // --- General Gallery Logic ---
            function populateGallery(containerId, items, renderFn) {
                const container = document.getElementById(containerId);
                if (!container) return;
                container.innerHTML = '';
                items.forEach((item, index) => { container.appendChild(renderFn(item, index)); });
            }

            function createComponentDisplay(item, index, renderContentFn) {
                const wrapper = document.createElement('div');
                wrapper.className = 'component-display';
                wrapper.setAttribute('data-name', item.name.toLowerCase());

                const content = renderContentFn(item);
                let code = `<!-- HTML -->\n${item.html || content}`;
                if (item.css) code += `\n\n<!-- CSS -->\n<style>\n${item.css}\n</style>`;
                if (item.jsLogic) {
                    code += `\n\n<!-- JAVASCRIPT LOGIC -->\n<script>\n// Nota: Esta lógica requiere un bucle de animación (ej. requestAnimationFrame) para funcionar.\nconst logic = ${item.jsLogic};\n<\/script>`;
                }
                if (item.import) code = `<!-- Agrega en tu <head> -->\n<link href="${item.import.split("'")[1]}" rel="stylesheet">\n\n${code}`;

                wrapper.innerHTML = `
                    <div class="flex-grow flex flex-col items-center justify-center p-2">
                        <h4 class="text-md font-bold text-purple-400 mb-2 text-center">${index + 1}. ${item.name}</h4>
                        ${content}
                    </div>
                    <div class="text-right mt-4">
                        <button class="copy-btn text-sm font-semibold py-2 px-4 rounded-md"><i class="fas fa-code mr-2"></i>Ver Código</button>
                    </div>
                    <pre class="code-snippet"><code>${code.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</code></pre>
                `;
                return wrapper;
            }

            const renderTitleEffect = (effect, index) => {
                let finalHtml = effect.html.replace(/TITULO DE PRUEBA/g, effect.name.toUpperCase());
                finalHtml = finalHtml.replace(/data-text="[^"]*"/, `data-text="${effect.name.toUpperCase()}"`);
                
                if (['Ondulado', 'Sombra Pop', 'Split Flap', 'Cinético', 'Estirado'].includes(effect.name)) {
                    const text = effect.name.toUpperCase();
                    const wrappedText = text.split('').map((letter, i) => `<span style="--i:${i}" data-text="${letter}">${letter === ' ' ? '&nbsp;' : letter}</span>`).join('');
                    const wrapperClass = {
                        'Ondulado': 'title-wavy-effect',
                        'Sombra Pop': 'title-text-shadow-pop',
                        'Split Flap': 'title-split-flap',
                        'Cinético': 'title-kinetic',
                        'Estirado': 'title-stretch'
                    }[effect.name];
                    finalHtml = `<div class="title-effect-wrapper"><h2 class="${wrapperClass}">${wrappedText}</h2></div>`;
                }
                return createComponentDisplay(effect, index, item => finalHtml);
            };
            
            const renderButton = (button, index) => createComponentDisplay(button, index, item => item.html);
            const renderEffect = (effect, index) => createComponentDisplay(effect, index, item => item.html);

            // ELIMINADO: Llamada a populateGallery para tipografías
            populateGallery('title-effects-gallery', titleEffects, renderTitleEffect);
            populateGallery('buttons-gallery', buttons, renderButton);
            populateGallery('effects-gallery', effects.concat(newParticleEffects), renderEffect);
            populateGallery('charts-gallery', charts, renderChart);

            function setupSearch(inputId, galleryId) {
                const searchInput = document.getElementById(inputId);
                const gallery = document.getElementById(galleryId);
                if (!searchInput || !gallery) return;

                searchInput.addEventListener('input', (e) => {
                    const searchTerm = e.target.value.toLowerCase();
                    const items = gallery.querySelectorAll('.component-display');
                    items.forEach(item => {
                        const name = item.getAttribute('data-name');
                        if (name.includes(searchTerm)) {
                            item.style.display = 'flex';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            }

            // ELIMINADO: setupSearch para tipografías
            setupSearch('search-title-effects', 'title-effects-gallery');
            setupSearch('search-effects', 'effects-gallery');
            setupSearch('search-buttons', 'buttons-gallery');
            setupSearch('search-charts', 'charts-gallery');

            const galleryContainer = document.getElementById('component-gallery');
            galleryContainer.addEventListener('click', function(e) {
                const btn = e.target.closest('.copy-btn');
                if (btn) {
                    const snippet = btn.closest('.component-display').querySelector('.code-snippet');
                    snippet.classList.toggle('show');
                    
                    if (snippet.classList.contains('show')) {
                        const codeText = snippet.querySelector('code').innerText;
                         try {
                             const tempTextArea = document.createElement('textarea');
                             tempTextArea.value = codeText;
                             document.body.appendChild(tempTextArea);
                             tempTextArea.select();
                             document.execCommand('copy');
                             document.body.removeChild(tempTextArea);
                             
                             const originalText = btn.innerHTML;
                             btn.innerHTML = '<i class="fas fa-check mr-2"></i>¡Copiado!';
                             btn.classList.add('copied');
                             setTimeout(() => {
                                 btn.innerHTML = originalText;
                                 btn.classList.remove('copied');
                             }, 2000);
                         } catch (err) {
                             console.error('Error al copiar el código: ', err);
                         }
                    }
                }
            });
            
            // Login Modal Logic
            const loginBtn = document.getElementById('login-btn');
            const loginModal = document.getElementById('login-modal');
            const closeLoginModalBtn = document.getElementById('close-login-modal-btn');

            function openLoginModal() {
                loginModal.classList.remove('opacity-0', 'pointer-events-none');
                loginModal.querySelector('.modal-content').classList.remove('scale-95');
            }
            function closeLoginModal() {
                loginModal.classList.add('opacity-0', 'pointer-events-none');
                loginModal.querySelector('.modal-content').classList.add('scale-95');
            }

            loginBtn.addEventListener('click', openLoginModal);
            closeLoginModalBtn.addEventListener('click', closeLoginModal);
            loginModal.addEventListener('click', (e) => {
                if (e.target === loginModal) { closeLoginModal(); }
            });

            
            const styleSheet = document.createElement("style");
            styleSheet.type = "text/css";
            styleSheet.innerText = `
                @keyframes anim1 { 0% { left: -100%; } 50%, 100% { left: 100%; } }
                @keyframes anim2 { 0% { top: -100%; } 50%, 100% { top: 100%; } }
                @keyframes anim3 { 0% { right: -100%; } 50%, 100% { right: 100%; } }
                @keyframes anim4 { 0% { bottom: -100%; } 50%, 100% { bottom: 100%; } }
                @keyframes shake-animation { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
                @keyframes glitch-anim { 0% { clip: rect(44px, 9999px, 45px, 0); } 100% { clip: rect(42px, 9999px, 43px, 0); } }
            `;
            document.head.appendChild(styleSheet);

            // JS for interactive components
            document.querySelectorAll('.card-spotlight-follow').forEach(card => {
                card.addEventListener('mousemove', e => {
                    const rect = card.getBoundingClientRect();
                    card.style.setProperty('--x', e.clientX - rect.left + 'px');
                    card.style.setProperty('--y', e.clientY - rect.top + 'px');
                });
            });

            document.querySelectorAll('.card-particles').forEach(canvas => {
                const ctx = canvas.getContext('2d');
                let particles = [];
                const options = { particleColor: "rgba(167, 139, 250, 0.7)", lineColor: "rgba(167, 139, 250, 0.3)", particleAmount: 50, defaultRadius: 2, variantRadius: 2, defaultSpeed: 0.5, variantSpeed: 0.5, linkRadius: 100, };
                function resizeCanvas() { const rect = canvas.parentElement.getBoundingClientRect(); canvas.width = rect.width; canvas.height = rect.height; }
                function createParticles() {
                    particles = [];
                    for (let i = 0; i < options.particleAmount; i++) {
                        particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, radius: options.defaultRadius + Math.random() * options.variantRadius, speedX: (Math.random() - 0.5) * options.defaultSpeed, speedY: (Math.random() - 0.5) * options.defaultSpeed, });
                    }
                }
                function drawParticles() { particles.forEach(p => { ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2); ctx.fillStyle = options.particleColor; ctx.fill(); }); }
                function updateParticles() { particles.forEach(p => { p.x += p.speedX; p.y += p.speedY; if (p.x < 0 || p.x > canvas.width) p.speedX *= -1; if (p.y < 0 || p.y > canvas.height) p.speedY *= -1; }); }
                function linkParticles() {
                    for (let i = 0; i < particles.length; i++) {
                        for (let j = i + 1; j < particles.length; j++) {
                            const dx = particles[i].x - particles[j].x; const dy = particles[i].y - particles[j].y; const distance = Math.sqrt(dx * dx + dy * dy);
                            if (distance < options.linkRadius) { ctx.beginPath(); ctx.moveTo(particles[i].x, particles[i].y); ctx.lineTo(particles[j].x, particles[j].y); ctx.strokeStyle = options.lineColor; ctx.lineWidth = 1; ctx.stroke(); }
                        }
                    }
                }
                function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); updateParticles(); drawParticles(); linkParticles(); requestAnimationFrame(animate); }
                const observer = new ResizeObserver(() => { resizeCanvas(); createParticles(); });
                observer.observe(canvas.parentElement);
                animate();
            });
            
            // Reveal title JS
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target.querySelector('[data-reveal]');
                        if(target) target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.5 });
            document.querySelectorAll('[data-reveal]').forEach(el => {
                el.style.transform = 'translateY(100%)';
                revealObserver.observe(el.parentElement);
            });
            // Magnetic Tilt JS
            document.querySelectorAll('.card-magnetic-tilt').forEach(card => {
                card.addEventListener('mousemove', e => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const { width, height } = rect;
                    const rotateX = (y / height - 0.5) * -30; // Max 15 deg tilt
                    const rotateY = (x / width - 0.5) * 30;  // Max 15 deg tilt
                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`;
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
                });
            });
            
            // Interactive buttons JS
            document.addEventListener('click', e => {
                // Button Loading
                if (e.target.closest('.btn-loading')) {
                    const btn = e.target.closest('.btn-loading');
                    if (btn.classList.contains('loading')) return;
                    btn.classList.add('loading');
                    const textEl = btn.querySelector('.btn-text');
                    textEl.textContent = 'Cargando...';
                    setTimeout(() => {
                        btn.classList.remove('loading');
                        textEl.textContent = 'Cargar';
                    }, 2000);
                }
                // Button Switch
                if (e.target.closest('.btn-switch')) {
                    const btn = e.target.closest('.btn-switch');
                    btn.classList.toggle('active');
                    const span = btn.querySelector('span');
                    if (btn.classList.contains('active')) {
                        span.style.transform = 'translateX(2rem)';
                        btn.style.backgroundColor = '#22c55e';
                    } else {
                        span.style.transform = 'translateX(0)';
                        btn.style.backgroundColor = '#4b5563';
                    }
                }
            });
            
            // Bubble Button
            document.querySelectorAll('.btn-bubble').forEach(button => {
                button.addEventListener('click', e => {
                    let rect = button.getBoundingClientRect(); let x = e.clientX - rect.left; let y = e.clientY - rect.top;
                    let bubble = document.createElement('span');
                    bubble.style.left = x + 'px'; bubble.style.top = y + 'px';
                    bubble.className = 'absolute w-1 h-1 bg-white/50 rounded-full transform -translate-x-1/2 -translate-y-1/2 animate-bubble';
                    button.appendChild(bubble);
                    setTimeout(() => { bubble.remove(); }, 1000);
                });
            });

            // Ink button
            document.querySelectorAll('.btn-ink').forEach(button => {
                button.addEventListener('click', e => {
                    let rect = button.getBoundingClientRect(); let x = e.clientX - rect.left; let y = e.clientY - rect.top;
                    let ink = document.createElement('span');
                    ink.style.left = x + 'px'; ink.style.top = y + 'px';
                    ink.className = 'btn-ink-effect';
                    button.appendChild(ink);
                    setTimeout(() => ink.remove(), 600);
                });
            });

            // Scramble Text Title Effect
            document.querySelectorAll('[data-scramble-text]').forEach(el => {
                const originalText = el.textContent;
                const chars = '!<>-_\\/[]{}—=+*^?#________';
                let interval;

                el.addEventListener('mouseover', () => {
                    let iteration = 0;
                    clearInterval(interval);
                    interval = setInterval(() => {
                        el.textContent = originalText.split('')
                            .map((letter, index) => {
                                if(index < iteration) {
                                    return originalText[index];
                                }
                                return chars[Math.floor(Math.random() * chars.length)];
                            })
                            .join('');
                        if(iteration >= originalText.length){
                            clearInterval(interval);
                        }
                        iteration += 1 / 3;
                    }, 30);
                });
            });

            // --- Payment Form Logic ---
            const paymentSection = document.getElementById('payment-section');
            if (paymentSection) {
                const cardUiContainer = paymentSection.querySelector('#card-ui-container');
                const cardNumberInput = paymentSection.querySelector('#card-number-input');
                const cardNameInput = paymentSection.querySelector('#card-name-input');
                const cardExpiryInput = paymentSection.querySelector('#card-expiry-input');
                const cardCvvInput = paymentSection.querySelector('#card-cvv-input');
                const amountInput = paymentSection.querySelector('#amount-input');
                const confirmPaymentBtn = paymentSection.querySelector('#confirm-payment-btn span');

                const cardUiNumber = paymentSection.querySelector('#card-ui-number');
                const cardUiName = paymentSection.querySelector('#card-ui-name');
                const cardUiExpiry = paymentSection.querySelector('#card-ui-expiry');
                const cardUiCvv = paymentSection.querySelector('#card-ui-cvv');
                const cardBrandIcon = paymentSection.querySelector('#card-brand-icon');

                function updatePaymentButtonAmount() {
                    const amount = parseFloat(amountInput.value).toFixed(2);
                    if (isNaN(amount) || amount <= 0) {
                        confirmPaymentBtn.textContent = 'Confirmar y Pagar';
                    } else {
                        confirmPaymentBtn.textContent = `Confirmar y Pagar $${amount}`;
                    }
                }
                
                amountInput.addEventListener('input', updatePaymentButtonAmount);
                paymentSection.querySelectorAll('.amount-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        amountInput.value = btn.dataset.amount;
                        updatePaymentButtonAmount();
                    });
                });


                // Update Name
                cardNameInput.addEventListener('input', (e) => {
                    const name = e.target.value.toUpperCase();
                    cardUiName.textContent = name || 'NOMBRE COMPLETO';
                });

                // Update Card Number
                cardNumberInput.addEventListener('input', (e) => {
                    let value = e.target.value.replace(/\D/g, ''); // Remove non-digits
                    value = value.replace(/(.{4})/g, '$1 ').trim(); // Add spaces every 4 digits
                    e.target.value = value;
                    cardUiNumber.textContent = value || '#### #### #### ####';
                    
                    // Update card brand icon
                    if (/^4/.test(value)) {
                        cardBrandIcon.className = 'fab fa-cc-visa card-brand-icon';
                    } else if (/^5[1-5]/.test(value)) {
                        cardBrandIcon.className = 'fab fa-cc-mastercard card-brand-icon';
                    } else if (/^3[47]/.test(value)) {
                        cardBrandIcon.className = 'fab fa-cc-amex card-brand-icon';
                    } else {
                        cardBrandIcon.className = 'fas fa-credit-card card-brand-icon';
                    }
                });

                // Update Expiry
                cardExpiryInput.addEventListener('input', (e) => {
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length > 2) {
                        value = value.slice(0, 2) + '/' + value.slice(2, 4);
                    }
                    e.target.value = value;
                    cardUiExpiry.textContent = value || 'MM/YY';
                });
                
                // Update CVV and flip card
                cardCvvInput.addEventListener('focus', () => {
                    cardUiContainer.classList.add('flipped');
                });
                cardCvvInput.addEventListener('blur', () => {
                    cardUiContainer.classList.remove('flipped');
                });
                cardCvvInput.addEventListener('input', (e) => {
                    cardUiCvv.textContent = e.target.value;
                });

                // Initialize payment button text
                updatePaymentButtonAmount();
            }

            // --- Title Particle Effect ---
            const titleCanvas = document.getElementById('title-particles-canvas');
            if (titleCanvas) {
                const ctx = titleCanvas.getContext('2d');
                let particles = [];
                const options = {
                    particleColor: "rgba(167, 139, 250, 0.7)",
                    lineColor: "rgba(167, 139, 250, 0.3)",
                    particleAmount: 150,
                    defaultRadius: 2,
                    variantRadius: 2,
                    defaultSpeed: 0.3,
                    variantSpeed: 0.3,
                    linkRadius: 120
                };

                function resizeTitleCanvas() {
                    const rect = titleCanvas.parentElement.getBoundingClientRect();
                    titleCanvas.width = rect.width;
                    titleCanvas.height = rect.height;
                }

                function createTitleParticles() {
                    particles = [];
                    for (let i = 0; i < options.particleAmount; i++) {
                        particles.push({
                            x: Math.random() * titleCanvas.width,
                            y: Math.random() * titleCanvas.height,
                            radius: options.defaultRadius + Math.random() * options.variantRadius,
                            speedX: (Math.random() - 0.5) * options.defaultSpeed,
                            speedY: (Math.random() - 0.5) * options.defaultSpeed,
                        });
                    }
                }

                function drawTitleParticles() {
                    particles.forEach(p => {
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                        ctx.fillStyle = options.particleColor;
                        ctx.fill();
                    });
                }

                function updateTitleParticles() {
                    particles.forEach(p => {
                        p.x += p.speedX;
                        p.y += p.speedY;
                        if (p.x < 0 || p.x > titleCanvas.width) p.speedX *= -1;
                        if (p.y < 0 || p.y > titleCanvas.height) p.speedY *= -1;
                    });
                }

                function linkTitleParticles() {
                    for (let i = 0; i < particles.length; i++) {
                        for (let j = i + 1; j < particles.length; j++) {
                            const dx = particles[i].x - particles[j].x;
                            const dy = particles[i].y - particles[j].y;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            if (distance < options.linkRadius) {
                                const opacity = 1 - (distance / options.linkRadius);
                                ctx.beginPath();
                                ctx.moveTo(particles[i].x, particles[i].y);
                                ctx.lineTo(particles[j].x, particles[j].y);
                                ctx.strokeStyle = `rgba(167, 139, 250, ${opacity * 0.5})`;
                                ctx.lineWidth = 1;
                                ctx.stroke();
                            }
                        }
                    }
                }

                function animateTitle() {
                    ctx.clearRect(0, 0, titleCanvas.width, titleCanvas.height);
                    updateTitleParticles();
                    drawTitleParticles();
                    linkTitleParticles();
                    requestAnimationFrame(animateTitle);
                }

                const titleObserver = new ResizeObserver(() => {
                    resizeTitleCanvas();
                    createTitleParticles();
                });
                titleObserver.observe(titleCanvas.parentElement);
                animateTitle();
            }

            function initializeParticleCanvases() {
                document.querySelectorAll('canvas.particle-effect-canvas').forEach(canvas => {
                    const effectId = canvas.dataset.effectId;
                    if (!effectLogics[effectId]) return;

                    const ctx = canvas.getContext('2d');
                    const state = {};
                    let animationFrameId;

                    const resizeCanvas = () => {
                        const dpr = window.devicePixelRatio || 1;
                        const rect = canvas.getBoundingClientRect();
                        if (rect.width === 0 || rect.height === 0) return;
                        canvas.width = rect.width * dpr;
                        canvas.height = rect.height * dpr;
                        ctx.scale(dpr, dpr);
                        Object.keys(state).forEach(key => delete state[key]);
                    };

                    const animate = () => {
                        if (!canvas.isConnected) {
                           cancelAnimationFrame(animationFrameId);
                           return;
                        }
                        effectLogics[effectId](ctx, state);
                        animationFrameId = requestAnimationFrame(animate);
                    };

                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                if (!animationFrameId) {
                                    resizeCanvas();
                                    animate();
                                }
                            } else {
                                cancelAnimationFrame(animationFrameId);
                                animationFrameId = null;
                            }
                        });
                    }, { threshold: 0.01 });

                    observer.observe(canvas);
                    window.addEventListener('resize', resizeCanvas);
                });
            }

            initializeParticleCanvases();

        });
    </script>
</body>
</html>
